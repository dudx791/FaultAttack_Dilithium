   1              		.cpu cortex-m4
   2              		.eabi_attribute 20, 1
   3              		.eabi_attribute 21, 1
   4              		.eabi_attribute 23, 3
   5              		.eabi_attribute 24, 1
   6              		.eabi_attribute 25, 1
   7              		.eabi_attribute 26, 1
   8              		.eabi_attribute 30, 4
   9              		.eabi_attribute 34, 1
  10              		.eabi_attribute 18, 4
  11              		.file	"simpleserial.c"
  12              		.text
  13              	.Ltext0:
  14              		.cfi_sections	.debug_frame
  15              		.section	.text.ss_crc,"ax",%progbits
  16              		.align	1
  17              		.global	ss_crc
  18              		.arch armv7e-m
  19              		.syntax unified
  20              		.thumb
  21              		.thumb_func
  22              		.fpu softvfp
  24              	ss_crc:
  25              	.LVL0:
  26              	.LFB0:
  27              		.file 1 ".././simpleserial/simpleserial.c"
   1:.././simpleserial/simpleserial.c **** // simpleserial.c
   2:.././simpleserial/simpleserial.c **** 
   3:.././simpleserial/simpleserial.c **** #include "simpleserial.h"
   4:.././simpleserial/simpleserial.c **** #include <stdint.h>
   5:.././simpleserial/simpleserial.c **** #include "hal.h"
   6:.././simpleserial/simpleserial.c **** 
   7:.././simpleserial/simpleserial.c **** 
   8:.././simpleserial/simpleserial.c **** #define MAX_SS_CMDS 128
   9:.././simpleserial/simpleserial.c **** static int num_commands = 0;
  10:.././simpleserial/simpleserial.c **** 
  11:.././simpleserial/simpleserial.c **** #define MAX_SS_LEN 512
  12:.././simpleserial/simpleserial.c **** 
  13:.././simpleserial/simpleserial.c **** //#define SS_VER_1_0 0
  14:.././simpleserial/simpleserial.c **** //#define SS_VER_1_1 1
  15:.././simpleserial/simpleserial.c **** //#define SS_VER_2_0 2
  16:.././simpleserial/simpleserial.c **** 
  17:.././simpleserial/simpleserial.c **** 
  18:.././simpleserial/simpleserial.c **** // 0xA6 formerly 
  19:.././simpleserial/simpleserial.c **** #define CW_CRC 0x4D 
  20:.././simpleserial/simpleserial.c **** uint8_t ss_crc(uint8_t *buf, uint8_t len)
  21:.././simpleserial/simpleserial.c **** {
  28              		.loc 1 21 1 view -0
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 0
  31              		@ frame_needed = 0, uses_anonymous_args = 0
  32              		@ link register save eliminated.
  33              		.loc 1 21 1 is_stmt 0 view .LVU1
  34 0000 0346     		mov	r3, r0
  22:.././simpleserial/simpleserial.c **** 	unsigned int k = 0;
  35              		.loc 1 22 2 is_stmt 1 view .LVU2
  36              	.LVL1:
  23:.././simpleserial/simpleserial.c **** 	uint8_t crc = 0x00;
  37              		.loc 1 23 2 view .LVU3
  24:.././simpleserial/simpleserial.c **** 	while (len--) {
  38              		.loc 1 24 2 view .LVU4
  39 0002 0144     		add	r1, r1, r0
  40              	.LVL2:
  23:.././simpleserial/simpleserial.c **** 	uint8_t crc = 0x00;
  41              		.loc 1 23 10 is_stmt 0 view .LVU5
  42 0004 0020     		movs	r0, #0
  43              	.LVL3:
  44              	.L2:
  45              		.loc 1 24 8 is_stmt 1 view .LVU6
  46              		.loc 1 24 8 is_stmt 0 view .LVU7
  47 0006 8B42     		cmp	r3, r1
  48 0008 00D1     		bne	.L6
  25:.././simpleserial/simpleserial.c **** 		crc ^= *buf++;
  26:.././simpleserial/simpleserial.c **** 		for (k = 0; k < 8; k++) {
  27:.././simpleserial/simpleserial.c **** 			crc = crc & 0x80 ? (crc << 1) ^ CW_CRC: crc << 1;
  28:.././simpleserial/simpleserial.c **** 		}
  29:.././simpleserial/simpleserial.c **** 	}
  30:.././simpleserial/simpleserial.c **** 	return crc;
  49              		.loc 1 30 2 is_stmt 1 view .LVU8
  31:.././simpleserial/simpleserial.c **** 
  32:.././simpleserial/simpleserial.c **** }
  50              		.loc 1 32 1 is_stmt 0 view .LVU9
  51 000a 7047     		bx	lr
  52              	.L6:
  25:.././simpleserial/simpleserial.c **** 		crc ^= *buf++;
  53              		.loc 1 25 3 is_stmt 1 view .LVU10
  54              	.LVL4:
  25:.././simpleserial/simpleserial.c **** 		crc ^= *buf++;
  55              		.loc 1 25 7 is_stmt 0 view .LVU11
  56 000c 13F8012B 		ldrb	r2, [r3], #1	@ zero_extendqisi2
  57              	.LVL5:
  25:.././simpleserial/simpleserial.c **** 		crc ^= *buf++;
  58              		.loc 1 25 7 view .LVU12
  59 0010 5040     		eors	r0, r0, r2
  60              	.LVL6:
  26:.././simpleserial/simpleserial.c **** 			crc = crc & 0x80 ? (crc << 1) ^ CW_CRC: crc << 1;
  61              		.loc 1 26 3 is_stmt 1 view .LVU13
  26:.././simpleserial/simpleserial.c **** 			crc = crc & 0x80 ? (crc << 1) ^ CW_CRC: crc << 1;
  62              		.loc 1 26 15 view .LVU14
  25:.././simpleserial/simpleserial.c **** 		crc ^= *buf++;
  63              		.loc 1 25 7 is_stmt 0 view .LVU15
  64 0012 0822     		movs	r2, #8
  65              	.LVL7:
  66              	.L5:
  27:.././simpleserial/simpleserial.c **** 		}
  67              		.loc 1 27 4 is_stmt 1 view .LVU16
  27:.././simpleserial/simpleserial.c **** 		}
  68              		.loc 1 27 8 is_stmt 0 view .LVU17
  69 0014 10F0800F 		tst	r0, #128
  70 0018 4FEA4000 		lsl	r0, r0, #1
  71              	.LVL8:
  27:.././simpleserial/simpleserial.c **** 		}
  72              		.loc 1 27 34 view .LVU18
  73 001c 18BF     		it	ne
  74 001e 80F04D00 		eorne	r0, r0, #77
  26:.././simpleserial/simpleserial.c **** 			crc = crc & 0x80 ? (crc << 1) ^ CW_CRC: crc << 1;
  75              		.loc 1 26 3 view .LVU19
  76 0022 013A     		subs	r2, r2, #1
  77              	.LVL9:
  27:.././simpleserial/simpleserial.c **** 		}
  78              		.loc 1 27 8 view .LVU20
  79 0024 C0B2     		uxtb	r0, r0
  80              	.LVL10:
  26:.././simpleserial/simpleserial.c **** 			crc = crc & 0x80 ? (crc << 1) ^ CW_CRC: crc << 1;
  81              		.loc 1 26 22 is_stmt 1 view .LVU21
  26:.././simpleserial/simpleserial.c **** 			crc = crc & 0x80 ? (crc << 1) ^ CW_CRC: crc << 1;
  82              		.loc 1 26 15 view .LVU22
  26:.././simpleserial/simpleserial.c **** 			crc = crc & 0x80 ? (crc << 1) ^ CW_CRC: crc << 1;
  83              		.loc 1 26 3 is_stmt 0 view .LVU23
  84 0026 F5D1     		bne	.L5
  85 0028 EDE7     		b	.L2
  86              		.cfi_endproc
  87              	.LFE0:
  89              		.section	.text.hex_decode,"ax",%progbits
  90              		.align	1
  91              		.global	hex_decode
  92              		.syntax unified
  93              		.thumb
  94              		.thumb_func
  95              		.fpu softvfp
  97              	hex_decode:
  98              	.LVL11:
  99              	.LFB1:
  33:.././simpleserial/simpleserial.c **** 
  34:.././simpleserial/simpleserial.c **** // [B_STUFF, CMD, SCMD, LEN, B_STUFF, DATA..., CRC, TERM]
  35:.././simpleserial/simpleserial.c **** 
  36:.././simpleserial/simpleserial.c **** //#define SS_VER SS_VER_2_0
  37:.././simpleserial/simpleserial.c **** #if SS_VER == SS_VER_2_0
  38:.././simpleserial/simpleserial.c **** #error "SS_VER_2_0 is deprecated! Use SS_VER_2_1 instead."
  39:.././simpleserial/simpleserial.c **** #elif SS_VER == SS_VER_2_1
  40:.././simpleserial/simpleserial.c **** 
  41:.././simpleserial/simpleserial.c **** int hex_decode(int len, char* ascii_buf, uint8_t* data_buf)
  42:.././simpleserial/simpleserial.c **** {
 100              		.loc 1 42 1 is_stmt 1 view -0
 101              		.cfi_startproc
 102              		@ args = 0, pretend = 0, frame = 0
 103              		@ frame_needed = 0, uses_anonymous_args = 0
  43:.././simpleserial/simpleserial.c **** 	for(int i = 0; i < len; i++)
 104              		.loc 1 43 2 view .LVU25
 105              	.LBB2:
 106              		.loc 1 43 6 view .LVU26
 107              		.loc 1 43 6 is_stmt 0 view .LVU27
 108              	.LBE2:
  42:.././simpleserial/simpleserial.c **** 	for(int i = 0; i < len; i++)
 109              		.loc 1 42 1 view .LVU28
 110 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 111              	.LCFI0:
 112              		.cfi_def_cfa_offset 20
 113              		.cfi_offset 4, -20
 114              		.cfi_offset 5, -16
 115              		.cfi_offset 6, -12
 116              		.cfi_offset 7, -8
 117              		.cfi_offset 14, -4
 118              	.LBB7:
 119              		.loc 1 43 10 view .LVU29
 120 0002 0025     		movs	r5, #0
 121              	.LBB3:
  44:.././simpleserial/simpleserial.c **** 	{
  45:.././simpleserial/simpleserial.c **** 		char n_hi = ascii_buf[2*i];
  46:.././simpleserial/simpleserial.c **** 		char n_lo = ascii_buf[2*i+1];
 122              		.loc 1 46 8 view .LVU30
 123 0004 4F1C     		adds	r7, r1, #1
 124              	.LVL12:
 125              	.L9:
 126              		.loc 1 46 8 view .LVU31
 127              	.LBE3:
  43:.././simpleserial/simpleserial.c **** 	{
 128              		.loc 1 43 17 is_stmt 1 discriminator 1 view .LVU32
  43:.././simpleserial/simpleserial.c **** 	{
 129              		.loc 1 43 2 is_stmt 0 discriminator 1 view .LVU33
 130 0006 8542     		cmp	r5, r0
 131 0008 01DB     		blt	.L19
 132              	.LBE7:
  47:.././simpleserial/simpleserial.c **** 
  48:.././simpleserial/simpleserial.c **** 		if(n_lo >= '0' && n_lo <= '9')
  49:.././simpleserial/simpleserial.c **** 			data_buf[i] = n_lo - '0';
  50:.././simpleserial/simpleserial.c **** 		else if(n_lo >= 'A' && n_lo <= 'F')
  51:.././simpleserial/simpleserial.c **** 			data_buf[i] = n_lo - 'A' + 10;
  52:.././simpleserial/simpleserial.c **** 		else if(n_lo >= 'a' && n_lo <= 'f')
  53:.././simpleserial/simpleserial.c **** 			data_buf[i] = n_lo - 'a' + 10;
  54:.././simpleserial/simpleserial.c **** 		else
  55:.././simpleserial/simpleserial.c **** 			return 1;
  56:.././simpleserial/simpleserial.c **** 
  57:.././simpleserial/simpleserial.c **** 		if(n_hi >= '0' && n_hi <= '9')
  58:.././simpleserial/simpleserial.c **** 			data_buf[i] |= (n_hi - '0') << 4;
  59:.././simpleserial/simpleserial.c **** 		else if(n_hi >= 'A' && n_hi <= 'F')
  60:.././simpleserial/simpleserial.c **** 			data_buf[i] |= (n_hi - 'A' + 10) << 4;
  61:.././simpleserial/simpleserial.c **** 		else if(n_hi >= 'a' && n_hi <= 'f')
  62:.././simpleserial/simpleserial.c **** 			data_buf[i] |= (n_hi - 'a' + 10) << 4;
  63:.././simpleserial/simpleserial.c **** 		else
  64:.././simpleserial/simpleserial.c **** 			return 1;
  65:.././simpleserial/simpleserial.c **** 	}
  66:.././simpleserial/simpleserial.c **** 
  67:.././simpleserial/simpleserial.c **** 	return 0;
 133              		.loc 1 67 9 view .LVU34
 134 000a 0020     		movs	r0, #0
 135              	.LVL13:
 136              		.loc 1 67 9 view .LVU35
 137 000c 21E0     		b	.L8
 138              	.LVL14:
 139              	.L19:
 140              	.LBB8:
 141              	.LBB4:
  45:.././simpleserial/simpleserial.c **** 		char n_lo = ascii_buf[2*i+1];
 142              		.loc 1 45 3 is_stmt 1 view .LVU36
  46:.././simpleserial/simpleserial.c **** 
 143              		.loc 1 46 8 is_stmt 0 view .LVU37
 144 000e 17F81540 		ldrb	r4, [r7, r5, lsl #1]	@ zero_extendqisi2
  45:.././simpleserial/simpleserial.c **** 		char n_lo = ascii_buf[2*i+1];
 145              		.loc 1 45 8 view .LVU38
 146 0012 11F81530 		ldrb	r3, [r1, r5, lsl #1]	@ zero_extendqisi2
 147              	.LVL15:
  46:.././simpleserial/simpleserial.c **** 
 148              		.loc 1 46 3 is_stmt 1 view .LVU39
  48:.././simpleserial/simpleserial.c **** 			data_buf[i] = n_lo - '0';
 149              		.loc 1 48 3 view .LVU40
  48:.././simpleserial/simpleserial.c **** 			data_buf[i] = n_lo - '0';
 150              		.loc 1 48 18 is_stmt 0 view .LVU41
 151 0016 A4F13006 		sub	r6, r4, #48
 152 001a F6B2     		uxtb	r6, r6
  48:.././simpleserial/simpleserial.c **** 			data_buf[i] = n_lo - '0';
 153              		.loc 1 48 5 view .LVU42
 154 001c 092E     		cmp	r6, #9
 155 001e 0CD8     		bhi	.L10
  49:.././simpleserial/simpleserial.c **** 		else if(n_lo >= 'A' && n_lo <= 'F')
 156              		.loc 1 49 4 is_stmt 1 view .LVU43
  49:.././simpleserial/simpleserial.c **** 		else if(n_lo >= 'A' && n_lo <= 'F')
 157              		.loc 1 49 16 is_stmt 0 view .LVU44
 158 0020 1670     		strb	r6, [r2]
 159              	.LVL16:
 160              	.L11:
  57:.././simpleserial/simpleserial.c **** 			data_buf[i] |= (n_hi - '0') << 4;
 161              		.loc 1 57 3 is_stmt 1 view .LVU45
  57:.././simpleserial/simpleserial.c **** 			data_buf[i] |= (n_hi - '0') << 4;
 162              		.loc 1 57 18 is_stmt 0 view .LVU46
 163 0022 A3F13004 		sub	r4, r3, #48
  57:.././simpleserial/simpleserial.c **** 			data_buf[i] |= (n_hi - '0') << 4;
 164              		.loc 1 57 5 view .LVU47
 165 0026 E6B2     		uxtb	r6, r4
 166 0028 092E     		cmp	r6, #9
 167 002a 15D8     		bhi	.L15
 168              	.L22:
  60:.././simpleserial/simpleserial.c **** 		else if(n_hi >= 'a' && n_hi <= 'f')
 169              		.loc 1 60 16 view .LVU48
 170 002c 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 171              	.LVL17:
  60:.././simpleserial/simpleserial.c **** 		else if(n_hi >= 'a' && n_hi <= 'f')
 172              		.loc 1 60 16 view .LVU49
 173 002e 43EA0413 		orr	r3, r3, r4, lsl #4
 174              	.L21:
  62:.././simpleserial/simpleserial.c **** 		else
 175              		.loc 1 62 16 view .LVU50
 176 0032 1370     		strb	r3, [r2]
 177              	.LBE4:
  43:.././simpleserial/simpleserial.c **** 	{
 178              		.loc 1 43 26 is_stmt 1 view .LVU51
  43:.././simpleserial/simpleserial.c **** 	{
 179              		.loc 1 43 27 is_stmt 0 view .LVU52
 180 0034 0135     		adds	r5, r5, #1
 181              	.LVL18:
  43:.././simpleserial/simpleserial.c **** 	{
 182              		.loc 1 43 27 view .LVU53
 183 0036 0132     		adds	r2, r2, #1
 184 0038 E5E7     		b	.L9
 185              	.LVL19:
 186              	.L10:
 187              	.LBB5:
  50:.././simpleserial/simpleserial.c **** 			data_buf[i] = n_lo - 'A' + 10;
 188              		.loc 1 50 8 is_stmt 1 view .LVU54
  50:.././simpleserial/simpleserial.c **** 			data_buf[i] = n_lo - 'A' + 10;
 189              		.loc 1 50 10 is_stmt 0 view .LVU55
 190 003a A4F14106 		sub	r6, r4, #65
 191 003e 052E     		cmp	r6, #5
 192 0040 02D8     		bhi	.L12
  51:.././simpleserial/simpleserial.c **** 		else if(n_lo >= 'a' && n_lo <= 'f')
 193              		.loc 1 51 4 is_stmt 1 view .LVU56
  51:.././simpleserial/simpleserial.c **** 		else if(n_lo >= 'a' && n_lo <= 'f')
 194              		.loc 1 51 29 is_stmt 0 view .LVU57
 195 0042 373C     		subs	r4, r4, #55
 196              	.LVL20:
 197              	.L20:
  53:.././simpleserial/simpleserial.c **** 		else
 198              		.loc 1 53 16 view .LVU58
 199 0044 1470     		strb	r4, [r2]
 200              	.LVL21:
  53:.././simpleserial/simpleserial.c **** 		else
 201              		.loc 1 53 16 view .LVU59
 202 0046 ECE7     		b	.L11
 203              	.LVL22:
 204              	.L12:
  52:.././simpleserial/simpleserial.c **** 			data_buf[i] = n_lo - 'a' + 10;
 205              		.loc 1 52 8 is_stmt 1 view .LVU60
  52:.././simpleserial/simpleserial.c **** 			data_buf[i] = n_lo - 'a' + 10;
 206              		.loc 1 52 10 is_stmt 0 view .LVU61
 207 0048 A4F16106 		sub	r6, r4, #97
 208 004c 052E     		cmp	r6, #5
 209 004e 01D9     		bls	.L13
 210              	.LVL23:
 211              	.L18:
  55:.././simpleserial/simpleserial.c **** 
 212              		.loc 1 55 11 view .LVU62
 213 0050 0120     		movs	r0, #1
 214              	.LVL24:
 215              	.L8:
  55:.././simpleserial/simpleserial.c **** 
 216              		.loc 1 55 11 view .LVU63
 217              	.LBE5:
 218              	.LBE8:
  68:.././simpleserial/simpleserial.c **** }
 219              		.loc 1 68 1 view .LVU64
 220 0052 F0BD     		pop	{r4, r5, r6, r7, pc}
 221              	.LVL25:
 222              	.L13:
 223              	.LBB9:
 224              	.LBB6:
  53:.././simpleserial/simpleserial.c **** 		else
 225              		.loc 1 53 4 is_stmt 1 view .LVU65
  53:.././simpleserial/simpleserial.c **** 		else
 226              		.loc 1 53 29 is_stmt 0 view .LVU66
 227 0054 573C     		subs	r4, r4, #87
 228              	.LVL26:
  53:.././simpleserial/simpleserial.c **** 		else
 229              		.loc 1 53 29 view .LVU67
 230 0056 F5E7     		b	.L20
 231              	.LVL27:
 232              	.L15:
  59:.././simpleserial/simpleserial.c **** 			data_buf[i] |= (n_hi - 'A' + 10) << 4;
 233              		.loc 1 59 8 is_stmt 1 view .LVU68
  59:.././simpleserial/simpleserial.c **** 			data_buf[i] |= (n_hi - 'A' + 10) << 4;
 234              		.loc 1 59 10 is_stmt 0 view .LVU69
 235 0058 A3F14104 		sub	r4, r3, #65
 236 005c 052C     		cmp	r4, #5
 237 005e 02D8     		bhi	.L17
  60:.././simpleserial/simpleserial.c **** 		else if(n_hi >= 'a' && n_hi <= 'f')
 238              		.loc 1 60 4 is_stmt 1 view .LVU70
  60:.././simpleserial/simpleserial.c **** 		else if(n_hi >= 'a' && n_hi <= 'f')
 239              		.loc 1 60 31 is_stmt 0 view .LVU71
 240 0060 A3F13704 		sub	r4, r3, #55
 241 0064 E2E7     		b	.L22
 242              	.L17:
  61:.././simpleserial/simpleserial.c **** 			data_buf[i] |= (n_hi - 'a' + 10) << 4;
 243              		.loc 1 61 8 is_stmt 1 view .LVU72
  61:.././simpleserial/simpleserial.c **** 			data_buf[i] |= (n_hi - 'a' + 10) << 4;
 244              		.loc 1 61 10 is_stmt 0 view .LVU73
 245 0066 A3F16104 		sub	r4, r3, #97
 246 006a 052C     		cmp	r4, #5
 247 006c F0D8     		bhi	.L18
  62:.././simpleserial/simpleserial.c **** 		else
 248              		.loc 1 62 4 is_stmt 1 view .LVU74
  62:.././simpleserial/simpleserial.c **** 		else
 249              		.loc 1 62 16 is_stmt 0 view .LVU75
 250 006e 1478     		ldrb	r4, [r2]	@ zero_extendqisi2
  62:.././simpleserial/simpleserial.c **** 		else
 251              		.loc 1 62 31 view .LVU76
 252 0070 573B     		subs	r3, r3, #87
 253              	.LVL28:
  62:.././simpleserial/simpleserial.c **** 		else
 254              		.loc 1 62 16 view .LVU77
 255 0072 44EA0313 		orr	r3, r4, r3, lsl #4
 256              	.LVL29:
  62:.././simpleserial/simpleserial.c **** 		else
 257              		.loc 1 62 16 view .LVU78
 258 0076 DCE7     		b	.L21
 259              	.LBE6:
 260              	.LBE9:
 261              		.cfi_endproc
 262              	.LFE1:
 264              		.section	.text.ss_puts,"ax",%progbits
 265              		.align	1
 266              		.global	ss_puts
 267              		.syntax unified
 268              		.thumb
 269              		.thumb_func
 270              		.fpu softvfp
 272              	ss_puts:
 273              	.LVL30:
 274              	.LFB2:
  69:.././simpleserial/simpleserial.c **** 
  70:.././simpleserial/simpleserial.c **** typedef struct ss_cmd
  71:.././simpleserial/simpleserial.c **** {
  72:.././simpleserial/simpleserial.c **** 	char c;
  73:.././simpleserial/simpleserial.c **** 	unsigned int len;
  74:.././simpleserial/simpleserial.c **** 	uint8_t (*fp)(uint8_t, uint8_t, uint8_t, uint8_t *);
  75:.././simpleserial/simpleserial.c **** } ss_cmd;
  76:.././simpleserial/simpleserial.c **** static ss_cmd commands[MAX_SS_CMDS];
  77:.././simpleserial/simpleserial.c **** 
  78:.././simpleserial/simpleserial.c **** void ss_puts(char *x)
  79:.././simpleserial/simpleserial.c **** {
 275              		.loc 1 79 1 is_stmt 1 view -0
 276              		.cfi_startproc
 277              		@ args = 0, pretend = 0, frame = 0
 278              		@ frame_needed = 0, uses_anonymous_args = 0
 279              		.loc 1 79 1 is_stmt 0 view .LVU80
 280 0000 10B5     		push	{r4, lr}
 281              	.LCFI1:
 282              		.cfi_def_cfa_offset 8
 283              		.cfi_offset 4, -8
 284              		.cfi_offset 14, -4
 285 0002 0446     		mov	r4, r0
 286              	.LVL31:
 287              	.L24:
  80:.././simpleserial/simpleserial.c **** 	do {
 288              		.loc 1 80 2 is_stmt 1 discriminator 1 view .LVU81
  81:.././simpleserial/simpleserial.c **** 		putch(*x);
 289              		.loc 1 81 3 discriminator 1 view .LVU82
 290 0004 2078     		ldrb	r0, [r4]	@ zero_extendqisi2
 291 0006 FFF7FEFF 		bl	putch
 292              	.LVL32:
  82:.././simpleserial/simpleserial.c **** 	} while (*++x);
 293              		.loc 1 82 10 discriminator 1 view .LVU83
 294              		.loc 1 82 2 is_stmt 0 discriminator 1 view .LVU84
 295 000a 14F8013F 		ldrb	r3, [r4, #1]!	@ zero_extendqisi2
 296              	.LVL33:
 297              		.loc 1 82 2 discriminator 1 view .LVU85
 298 000e 002B     		cmp	r3, #0
 299 0010 F8D1     		bne	.L24
  83:.././simpleserial/simpleserial.c **** }
 300              		.loc 1 83 1 view .LVU86
 301 0012 10BD     		pop	{r4, pc}
 302              		.loc 1 83 1 view .LVU87
 303              		.cfi_endproc
 304              	.LFE2:
 306              		.section	.text.stuff_data,"ax",%progbits
 307              		.align	1
 308              		.global	stuff_data
 309              		.syntax unified
 310              		.thumb
 311              		.thumb_func
 312              		.fpu softvfp
 314              	stuff_data:
 315              	.LVL34:
 316              	.LFB5:
  84:.././simpleserial/simpleserial.c **** 
  85:.././simpleserial/simpleserial.c **** #define FRAME_BYTE 0x00
  86:.././simpleserial/simpleserial.c **** 
  87:.././simpleserial/simpleserial.c **** uint8_t check_version(uint8_t cmd, uint8_t scmd, uint8_t len, uint8_t *data)
  88:.././simpleserial/simpleserial.c **** {
  89:.././simpleserial/simpleserial.c **** 	uint8_t ver = SS_VER;
  90:.././simpleserial/simpleserial.c **** 	simpleserial_put('r', 1, &ver);
  91:.././simpleserial/simpleserial.c **** 	return SS_ERR_OK;
  92:.././simpleserial/simpleserial.c **** }
  93:.././simpleserial/simpleserial.c **** 
  94:.././simpleserial/simpleserial.c **** uint8_t ss_get_commands(uint8_t cmd, uint8_t scmd, uint8_t len, uint8_t *data)
  95:.././simpleserial/simpleserial.c **** {
  96:.././simpleserial/simpleserial.c ****     uint8_t cmd_chars[MAX_SS_CMDS];
  97:.././simpleserial/simpleserial.c ****     for (uint8_t i = 0; i < (num_commands & 0xFF); i++) {
  98:.././simpleserial/simpleserial.c ****         cmd_chars[i] = commands[i].c;
  99:.././simpleserial/simpleserial.c ****     }
 100:.././simpleserial/simpleserial.c **** 
 101:.././simpleserial/simpleserial.c ****     simpleserial_put('r', num_commands & 0xFF, (void *)cmd_chars);
 102:.././simpleserial/simpleserial.c ****     return 0x00;
 103:.././simpleserial/simpleserial.c **** 
 104:.././simpleserial/simpleserial.c **** }
 105:.././simpleserial/simpleserial.c **** 
 106:.././simpleserial/simpleserial.c **** uint8_t stuff_data(uint8_t *buf, uint8_t len)
 107:.././simpleserial/simpleserial.c **** {
 317              		.loc 1 107 1 is_stmt 1 view -0
 318              		.cfi_startproc
 319              		@ args = 0, pretend = 0, frame = 0
 320              		@ frame_needed = 0, uses_anonymous_args = 0
 108:.././simpleserial/simpleserial.c **** 	uint8_t i = 1;
 321              		.loc 1 108 2 view .LVU89
 109:.././simpleserial/simpleserial.c **** 	uint8_t last = 0;
 322              		.loc 1 109 2 view .LVU90
 110:.././simpleserial/simpleserial.c **** 	for (; i < len; i++) {
 323              		.loc 1 110 2 view .LVU91
 107:.././simpleserial/simpleserial.c **** 	uint8_t i = 1;
 324              		.loc 1 107 1 is_stmt 0 view .LVU92
 325 0000 30B5     		push	{r4, r5, lr}
 326              	.LCFI2:
 327              		.cfi_def_cfa_offset 12
 328              		.cfi_offset 4, -12
 329              		.cfi_offset 5, -8
 330              		.cfi_offset 14, -4
 109:.././simpleserial/simpleserial.c **** 	uint8_t last = 0;
 331              		.loc 1 109 10 view .LVU93
 332 0002 0022     		movs	r2, #0
 333 0004 0446     		mov	r4, r0
 108:.././simpleserial/simpleserial.c **** 	uint8_t last = 0;
 334              		.loc 1 108 10 view .LVU94
 335 0006 0123     		movs	r3, #1
 336              	.LVL35:
 337              	.L27:
 338              		.loc 1 110 9 is_stmt 1 discriminator 1 view .LVU95
 339              		.loc 1 110 2 is_stmt 0 discriminator 1 view .LVU96
 340 0008 8B42     		cmp	r3, r1
 341 000a 01D3     		bcc	.L29
 111:.././simpleserial/simpleserial.c **** 		if (buf[i] == FRAME_BYTE) {
 112:.././simpleserial/simpleserial.c **** 			buf[last] = i - last;
 113:.././simpleserial/simpleserial.c **** 			last = i;
 114:.././simpleserial/simpleserial.c **** 		}
 115:.././simpleserial/simpleserial.c **** 	}
 116:.././simpleserial/simpleserial.c **** 	return 0x00;
 342              		.loc 1 116 2 is_stmt 1 view .LVU97
 117:.././simpleserial/simpleserial.c **** }
 343              		.loc 1 117 1 is_stmt 0 view .LVU98
 344 000c 0020     		movs	r0, #0
 345              	.LVL36:
 346              		.loc 1 117 1 view .LVU99
 347 000e 30BD     		pop	{r4, r5, pc}
 348              	.LVL37:
 349              	.L29:
 111:.././simpleserial/simpleserial.c **** 		if (buf[i] == FRAME_BYTE) {
 350              		.loc 1 111 3 is_stmt 1 view .LVU100
 111:.././simpleserial/simpleserial.c **** 		if (buf[i] == FRAME_BYTE) {
 351              		.loc 1 111 6 is_stmt 0 view .LVU101
 352 0010 14F8015F 		ldrb	r5, [r4, #1]!	@ zero_extendqisi2
 353 0014 15B9     		cbnz	r5, .L28
 112:.././simpleserial/simpleserial.c **** 			last = i;
 354              		.loc 1 112 4 is_stmt 1 view .LVU102
 112:.././simpleserial/simpleserial.c **** 			last = i;
 355              		.loc 1 112 18 is_stmt 0 view .LVU103
 356 0016 9D1A     		subs	r5, r3, r2
 112:.././simpleserial/simpleserial.c **** 			last = i;
 357              		.loc 1 112 14 view .LVU104
 358 0018 8554     		strb	r5, [r0, r2]
 113:.././simpleserial/simpleserial.c **** 		}
 359              		.loc 1 113 4 is_stmt 1 view .LVU105
 360              	.LVL38:
 112:.././simpleserial/simpleserial.c **** 			last = i;
 361              		.loc 1 112 14 is_stmt 0 view .LVU106
 362 001a 1A46     		mov	r2, r3
 363              	.LVL39:
 364              	.L28:
 110:.././simpleserial/simpleserial.c **** 		if (buf[i] == FRAME_BYTE) {
 365              		.loc 1 110 18 is_stmt 1 view .LVU107
 110:.././simpleserial/simpleserial.c **** 		if (buf[i] == FRAME_BYTE) {
 366              		.loc 1 110 19 is_stmt 0 view .LVU108
 367 001c 0133     		adds	r3, r3, #1
 368              	.LVL40:
 110:.././simpleserial/simpleserial.c **** 		if (buf[i] == FRAME_BYTE) {
 369              		.loc 1 110 19 view .LVU109
 370 001e DBB2     		uxtb	r3, r3
 371              	.LVL41:
 110:.././simpleserial/simpleserial.c **** 		if (buf[i] == FRAME_BYTE) {
 372              		.loc 1 110 19 view .LVU110
 373 0020 F2E7     		b	.L27
 374              		.cfi_endproc
 375              	.LFE5:
 377              		.section	.text.unstuff_data,"ax",%progbits
 378              		.align	1
 379              		.global	unstuff_data
 380              		.syntax unified
 381              		.thumb
 382              		.thumb_func
 383              		.fpu softvfp
 385              	unstuff_data:
 386              	.LVL42:
 387              	.LFB6:
 118:.././simpleserial/simpleserial.c **** 
 119:.././simpleserial/simpleserial.c **** uint8_t unstuff_data(uint8_t *buf, uint8_t len)
 120:.././simpleserial/simpleserial.c **** {
 388              		.loc 1 120 1 is_stmt 1 view -0
 389              		.cfi_startproc
 390              		@ args = 0, pretend = 0, frame = 0
 391              		@ frame_needed = 0, uses_anonymous_args = 0
 121:.././simpleserial/simpleserial.c **** 	uint8_t next = buf[0]; // 取距离
 392              		.loc 1 121 2 view .LVU112
 120:.././simpleserial/simpleserial.c **** 	uint8_t next = buf[0]; // 取距离
 393              		.loc 1 120 1 is_stmt 0 view .LVU113
 394 0000 10B5     		push	{r4, lr}
 395              	.LCFI3:
 396              		.cfi_def_cfa_offset 8
 397              		.cfi_offset 4, -8
 398              		.cfi_offset 14, -4
 399              		.loc 1 121 10 view .LVU114
 400 0002 0278     		ldrb	r2, [r0]	@ zero_extendqisi2
 401              	.LVL43:
 122:.././simpleserial/simpleserial.c **** 	buf[0] = 0x00; // 恢复
 402              		.loc 1 122 2 is_stmt 1 view .LVU115
 403              		.loc 1 122 9 is_stmt 0 view .LVU116
 404 0004 0024     		movs	r4, #0
 120:.././simpleserial/simpleserial.c **** 	uint8_t next = buf[0]; // 取距离
 405              		.loc 1 120 1 view .LVU117
 406 0006 0346     		mov	r3, r0
 407              		.loc 1 122 9 view .LVU118
 408 0008 0470     		strb	r4, [r0]
 123:.././simpleserial/simpleserial.c **** 	//len -= 1;
 124:.././simpleserial/simpleserial.c **** 	uint8_t tmp = next;
 409              		.loc 1 124 2 is_stmt 1 view .LVU119
 410              	.LVL44:
 125:.././simpleserial/simpleserial.c **** 	while ((next < len) && tmp != 0) {
 411              		.loc 1 125 2 view .LVU120
 121:.././simpleserial/simpleserial.c **** 	buf[0] = 0x00; // 恢复
 412              		.loc 1 121 10 is_stmt 0 view .LVU121
 413 000a 1046     		mov	r0, r2
 414              	.LVL45:
 415              	.L31:
 416              		.loc 1 125 8 is_stmt 1 view .LVU122
 417 000c 8842     		cmp	r0, r1
 418 000e 00D2     		bcs	.L35
 419              		.loc 1 125 22 is_stmt 0 discriminator 1 view .LVU123
 420 0010 02B9     		cbnz	r2, .L33
 421              	.L35:
 126:.././simpleserial/simpleserial.c **** 		tmp = buf[next]; // 取距离
 127:.././simpleserial/simpleserial.c **** 		buf[next] = FRAME_BYTE; // 恢复
 128:.././simpleserial/simpleserial.c **** 		next += tmp; // 记录当前位置
 129:.././simpleserial/simpleserial.c **** 	}
 130:.././simpleserial/simpleserial.c **** 	return next;
 131:.././simpleserial/simpleserial.c **** }
 422              		.loc 1 131 1 view .LVU124
 423 0012 10BD     		pop	{r4, pc}
 424              	.L33:
 126:.././simpleserial/simpleserial.c **** 		tmp = buf[next]; // 取距离
 425              		.loc 1 126 3 is_stmt 1 view .LVU125
 126:.././simpleserial/simpleserial.c **** 		tmp = buf[next]; // 取距离
 426              		.loc 1 126 7 is_stmt 0 view .LVU126
 427 0014 1A5C     		ldrb	r2, [r3, r0]	@ zero_extendqisi2
 428              	.LVL46:
 127:.././simpleserial/simpleserial.c **** 		next += tmp; // 记录当前位置
 429              		.loc 1 127 3 is_stmt 1 view .LVU127
 127:.././simpleserial/simpleserial.c **** 		next += tmp; // 记录当前位置
 430              		.loc 1 127 13 is_stmt 0 view .LVU128
 431 0016 1C54     		strb	r4, [r3, r0]
 128:.././simpleserial/simpleserial.c **** 	}
 432              		.loc 1 128 3 is_stmt 1 view .LVU129
 128:.././simpleserial/simpleserial.c **** 	}
 433              		.loc 1 128 8 is_stmt 0 view .LVU130
 434 0018 1044     		add	r0, r0, r2
 435              	.LVL47:
 128:.././simpleserial/simpleserial.c **** 	}
 436              		.loc 1 128 8 view .LVU131
 437 001a C0B2     		uxtb	r0, r0
 438              	.LVL48:
 128:.././simpleserial/simpleserial.c **** 	}
 439              		.loc 1 128 8 view .LVU132
 440 001c F6E7     		b	.L31
 441              		.cfi_endproc
 442              	.LFE6:
 444              		.section	.text.simpleserial_init,"ax",%progbits
 445              		.align	1
 446              		.global	simpleserial_init
 447              		.syntax unified
 448              		.thumb
 449              		.thumb_func
 450              		.fpu softvfp
 452              	simpleserial_init:
 453              	.LFB7:
 132:.././simpleserial/simpleserial.c **** 
 133:.././simpleserial/simpleserial.c **** // Set up the SimpleSerial module by preparing internal commands
 134:.././simpleserial/simpleserial.c **** // This just adds the "v" command for now...
 135:.././simpleserial/simpleserial.c **** void simpleserial_init()
 136:.././simpleserial/simpleserial.c **** {
 454              		.loc 1 136 1 is_stmt 1 view -0
 455              		.cfi_startproc
 456              		@ args = 0, pretend = 0, frame = 0
 457              		@ frame_needed = 0, uses_anonymous_args = 0
 458              		@ link register save eliminated.
 137:.././simpleserial/simpleserial.c **** 	// simpleserial_addcmd('v', 0, check_version);
 138:.././simpleserial/simpleserial.c ****  //    simpleserial_addcmd('w', 0, ss_get_commands);
 139:.././simpleserial/simpleserial.c **** }
 459              		.loc 1 139 1 view .LVU134
 460 0000 7047     		bx	lr
 461              		.cfi_endproc
 462              	.LFE7:
 464              		.section	.text.simpleserial_addcmd,"ax",%progbits
 465              		.align	1
 466              		.global	simpleserial_addcmd
 467              		.syntax unified
 468              		.thumb
 469              		.thumb_func
 470              		.fpu softvfp
 472              	simpleserial_addcmd:
 473              	.LVL49:
 474              	.LFB8:
 140:.././simpleserial/simpleserial.c **** 
 141:.././simpleserial/simpleserial.c **** int simpleserial_addcmd(char c, unsigned int len, uint8_t (*fp)(uint8_t, uint8_t, uint8_t, uint8_t*
 142:.././simpleserial/simpleserial.c **** {
 475              		.loc 1 142 1 view -0
 476              		.cfi_startproc
 477              		@ args = 0, pretend = 0, frame = 0
 478              		@ frame_needed = 0, uses_anonymous_args = 0
 143:.././simpleserial/simpleserial.c **** 	if(num_commands >= MAX_SS_CMDS) {
 479              		.loc 1 143 2 view .LVU136
 142:.././simpleserial/simpleserial.c **** 	if(num_commands >= MAX_SS_CMDS) {
 480              		.loc 1 142 1 is_stmt 0 view .LVU137
 481 0000 38B5     		push	{r3, r4, r5, lr}
 482              	.LCFI4:
 483              		.cfi_def_cfa_offset 16
 484              		.cfi_offset 3, -16
 485              		.cfi_offset 4, -12
 486              		.cfi_offset 5, -8
 487              		.cfi_offset 14, -4
 488              		.loc 1 143 18 view .LVU138
 489 0002 0C4D     		ldr	r5, .L42
 490 0004 2B68     		ldr	r3, [r5]
 491              		.loc 1 143 4 view .LVU139
 492 0006 7F2B     		cmp	r3, #127
 493 0008 04DD     		ble	.L38
 144:.././simpleserial/simpleserial.c **** 		putch('a');
 494              		.loc 1 144 3 is_stmt 1 view .LVU140
 495 000a 6120     		movs	r0, #97
 496              	.LVL50:
 497              	.L41:
 145:.././simpleserial/simpleserial.c **** 		return 1;
 146:.././simpleserial/simpleserial.c **** 	}
 147:.././simpleserial/simpleserial.c **** 
 148:.././simpleserial/simpleserial.c **** 	if(len >= MAX_SS_LEN) {
 149:.././simpleserial/simpleserial.c **** 		putch('b');
 498              		.loc 1 149 3 is_stmt 0 view .LVU141
 499 000c FFF7FEFF 		bl	putch
 500              	.LVL51:
 150:.././simpleserial/simpleserial.c **** 		return 1;
 501              		.loc 1 150 3 is_stmt 1 view .LVU142
 502              		.loc 1 150 10 is_stmt 0 view .LVU143
 503 0010 0120     		movs	r0, #1
 504              	.L37:
 151:.././simpleserial/simpleserial.c **** 	}
 152:.././simpleserial/simpleserial.c **** 
 153:.././simpleserial/simpleserial.c **** 	commands[num_commands].c   = c;
 154:.././simpleserial/simpleserial.c **** 	commands[num_commands].len = len;
 155:.././simpleserial/simpleserial.c **** 	commands[num_commands].fp  = fp;
 156:.././simpleserial/simpleserial.c **** 	num_commands++;
 157:.././simpleserial/simpleserial.c **** 
 158:.././simpleserial/simpleserial.c **** 	return 0;
 159:.././simpleserial/simpleserial.c **** }
 505              		.loc 1 159 1 view .LVU144
 506 0012 38BD     		pop	{r3, r4, r5, pc}
 507              	.LVL52:
 508              	.L38:
 148:.././simpleserial/simpleserial.c **** 		putch('b');
 509              		.loc 1 148 2 is_stmt 1 view .LVU145
 148:.././simpleserial/simpleserial.c **** 		putch('b');
 510              		.loc 1 148 4 is_stmt 0 view .LVU146
 511 0014 B1F5007F 		cmp	r1, #512
 512 0018 01D3     		bcc	.L40
 149:.././simpleserial/simpleserial.c **** 		return 1;
 513              		.loc 1 149 3 is_stmt 1 view .LVU147
 514 001a 6220     		movs	r0, #98
 515              	.LVL53:
 149:.././simpleserial/simpleserial.c **** 		return 1;
 516              		.loc 1 149 3 is_stmt 0 view .LVU148
 517 001c F6E7     		b	.L41
 518              	.LVL54:
 519              	.L40:
 153:.././simpleserial/simpleserial.c **** 	commands[num_commands].len = len;
 520              		.loc 1 153 2 is_stmt 1 view .LVU149
 153:.././simpleserial/simpleserial.c **** 	commands[num_commands].len = len;
 521              		.loc 1 153 29 is_stmt 0 view .LVU150
 522 001e 0C24     		movs	r4, #12
 523 0020 04FB0354 		mla	r4, r4, r3, r5
 156:.././simpleserial/simpleserial.c **** 
 524              		.loc 1 156 14 view .LVU151
 525 0024 0133     		adds	r3, r3, #1
 153:.././simpleserial/simpleserial.c **** 	commands[num_commands].len = len;
 526              		.loc 1 153 29 view .LVU152
 527 0026 2071     		strb	r0, [r4, #4]
 154:.././simpleserial/simpleserial.c **** 	commands[num_commands].fp  = fp;
 528              		.loc 1 154 2 is_stmt 1 view .LVU153
 155:.././simpleserial/simpleserial.c **** 	num_commands++;
 529              		.loc 1 155 29 is_stmt 0 view .LVU154
 530 0028 C4E90212 		strd	r1, r2, [r4, #8]
 156:.././simpleserial/simpleserial.c **** 
 531              		.loc 1 156 2 is_stmt 1 view .LVU155
 156:.././simpleserial/simpleserial.c **** 
 532              		.loc 1 156 14 is_stmt 0 view .LVU156
 533 002c 2B60     		str	r3, [r5]
 158:.././simpleserial/simpleserial.c **** }
 534              		.loc 1 158 2 is_stmt 1 view .LVU157
 158:.././simpleserial/simpleserial.c **** }
 535              		.loc 1 158 9 is_stmt 0 view .LVU158
 536 002e 0020     		movs	r0, #0
 537              	.LVL55:
 158:.././simpleserial/simpleserial.c **** }
 538              		.loc 1 158 9 view .LVU159
 539 0030 EFE7     		b	.L37
 540              	.L43:
 541 0032 00BF     		.align	2
 542              	.L42:
 543 0034 00000000 		.word	.LANCHOR0
 544              		.cfi_endproc
 545              	.LFE8:
 547              		.section	.text.simpleserial_put,"ax",%progbits
 548              		.align	1
 549              		.global	simpleserial_put
 550              		.syntax unified
 551              		.thumb
 552              		.thumb_func
 553              		.fpu softvfp
 555              	simpleserial_put:
 556              	.LVL56:
 557              	.LFB10:
 160:.././simpleserial/simpleserial.c **** 
 161:.././simpleserial/simpleserial.c **** void simpleserial_get(void)
 162:.././simpleserial/simpleserial.c **** {
 163:.././simpleserial/simpleserial.c **** 	uint8_t data_buf[MAX_SS_LEN];
 164:.././simpleserial/simpleserial.c **** 	uint8_t err = 0;
 165:.././simpleserial/simpleserial.c **** 
 166:.././simpleserial/simpleserial.c **** 	for (int i = 0; i < 4; i++) {
 167:.././simpleserial/simpleserial.c **** 		data_buf[i] = getch(); //PTR, cmd, scmd, len
 168:.././simpleserial/simpleserial.c **** 		if (data_buf[i] == FRAME_BYTE) {  //如果data_buf[i] == 0x00
 169:.././simpleserial/simpleserial.c **** 			err = SS_ERR_FRAME_BYTE;
 170:.././simpleserial/simpleserial.c ****             // err =12;
 171:.././simpleserial/simpleserial.c **** 			goto ERROR;
 172:.././simpleserial/simpleserial.c **** 		}
 173:.././simpleserial/simpleserial.c **** 	}
 174:.././simpleserial/simpleserial.c **** 	uint8_t next_frame = unstuff_data(data_buf, 4);
 175:.././simpleserial/simpleserial.c **** 
 176:.././simpleserial/simpleserial.c **** 	// check for valid command
 177:.././simpleserial/simpleserial.c **** 	uint8_t c = 0;
 178:.././simpleserial/simpleserial.c **** 	for(c = 0; c < num_commands; c++)
 179:.././simpleserial/simpleserial.c **** 	{
 180:.././simpleserial/simpleserial.c **** 		if(commands[c].c == data_buf[1])
 181:.././simpleserial/simpleserial.c **** 			break;
 182:.././simpleserial/simpleserial.c **** 	}
 183:.././simpleserial/simpleserial.c **** 
 184:.././simpleserial/simpleserial.c **** 	if (c == num_commands) {
 185:.././simpleserial/simpleserial.c **** 		// err = SS_ERR_CMD;
 186:.././simpleserial/simpleserial.c ****         err = 7;
 187:.././simpleserial/simpleserial.c **** 		goto ERROR;
 188:.././simpleserial/simpleserial.c **** 	}
 189:.././simpleserial/simpleserial.c **** 
 190:.././simpleserial/simpleserial.c **** 	//check that next frame not beyond end of message
 191:.././simpleserial/simpleserial.c **** 	// account for cmd, scmd, len, data, crc, end of frame
 192:.././simpleserial/simpleserial.c **** 	if ((data_buf[3] + 5) < next_frame) {
 193:.././simpleserial/simpleserial.c **** 		err = SS_ERR_LEN;
 194:.././simpleserial/simpleserial.c ****         err = 11;
 195:.././simpleserial/simpleserial.c **** 		goto ERROR;
 196:.././simpleserial/simpleserial.c **** 	}
 197:.././simpleserial/simpleserial.c **** 
 198:.././simpleserial/simpleserial.c **** 	// read in data
 199:.././simpleserial/simpleserial.c **** 	// eq to len + crc + frame end
 200:.././simpleserial/simpleserial.c **** 	int i = 4;
 201:.././simpleserial/simpleserial.c **** 	for (; i < data_buf[3] + 5; i++) {
 202:.././simpleserial/simpleserial.c **** 		data_buf[i] = getch();
 203:.././simpleserial/simpleserial.c **** 		if (data_buf[i] == FRAME_BYTE) {
 204:.././simpleserial/simpleserial.c **** 			err = SS_ERR_FRAME_BYTE;
 205:.././simpleserial/simpleserial.c ****             err = 12;
 206:.././simpleserial/simpleserial.c **** 			goto ERROR;
 207:.././simpleserial/simpleserial.c **** 		}
 208:.././simpleserial/simpleserial.c **** 	}
 209:.././simpleserial/simpleserial.c **** 
 210:.././simpleserial/simpleserial.c **** 	//check that final byte is the FRAME_BYTE
 211:.././simpleserial/simpleserial.c **** 	data_buf[i] = getch();
 212:.././simpleserial/simpleserial.c **** 	if (data_buf[i] != FRAME_BYTE) {
 213:.././simpleserial/simpleserial.c **** 		err = SS_ERR_LEN;
 214:.././simpleserial/simpleserial.c ****         err = 13;
 215:.././simpleserial/simpleserial.c **** 		goto ERROR;
 216:.././simpleserial/simpleserial.c **** 	}
 217:.././simpleserial/simpleserial.c **** 
 218:.././simpleserial/simpleserial.c **** 	//fully unstuff data now
 219:.././simpleserial/simpleserial.c **** 	unstuff_data(data_buf + next_frame, i - next_frame + 1);
 220:.././simpleserial/simpleserial.c **** 
 221:.././simpleserial/simpleserial.c **** 	//calc crc excluding original frame offset and frame end and crc
 222:.././simpleserial/simpleserial.c **** 	uint8_t crc = ss_crc(data_buf+1, i-2);
 223:.././simpleserial/simpleserial.c **** 	if (crc != data_buf[i-1]) {
 224:.././simpleserial/simpleserial.c **** 		err = SS_ERR_CRC;
 225:.././simpleserial/simpleserial.c ****         err = 14;
 226:.././simpleserial/simpleserial.c **** 		goto ERROR;
 227:.././simpleserial/simpleserial.c **** 	}
 228:.././simpleserial/simpleserial.c **** 
 229:.././simpleserial/simpleserial.c **** 	err = commands[c].fp(data_buf[1], data_buf[2], data_buf[3], data_buf+4);
 230:.././simpleserial/simpleserial.c **** 
 231:.././simpleserial/simpleserial.c **** ERROR:
 232:.././simpleserial/simpleserial.c **** 	simpleserial_put('e', 0x05, &err);
 233:.././simpleserial/simpleserial.c **** 	return;
 234:.././simpleserial/simpleserial.c **** }
 235:.././simpleserial/simpleserial.c **** 
 236:.././simpleserial/simpleserial.c **** void simpleserial_put(char c, uint8_t size, uint8_t* output)
 237:.././simpleserial/simpleserial.c **** {
 558              		.loc 1 237 1 is_stmt 1 view -0
 559              		.cfi_startproc
 560              		@ args = 0, pretend = 0, frame = 512
 561              		@ frame_needed = 0, uses_anonymous_args = 0
 238:.././simpleserial/simpleserial.c **** 	uint8_t data_buf[MAX_SS_LEN];
 562              		.loc 1 238 2 view .LVU161
 239:.././simpleserial/simpleserial.c **** 	data_buf[0] = 0x00;
 563              		.loc 1 239 2 view .LVU162
 237:.././simpleserial/simpleserial.c **** 	uint8_t data_buf[MAX_SS_LEN];
 564              		.loc 1 237 1 is_stmt 0 view .LVU163
 565 0000 70B5     		push	{r4, r5, r6, lr}
 566              	.LCFI5:
 567              		.cfi_def_cfa_offset 16
 568              		.cfi_offset 4, -16
 569              		.cfi_offset 5, -12
 570              		.cfi_offset 6, -8
 571              		.cfi_offset 14, -4
 572 0002 ADF5007D 		sub	sp, sp, #512
 573              	.LCFI6:
 574              		.cfi_def_cfa_offset 528
 237:.././simpleserial/simpleserial.c **** 	uint8_t data_buf[MAX_SS_LEN];
 575              		.loc 1 237 1 view .LVU164
 576 0006 0C46     		mov	r4, r1
 577              		.loc 1 239 14 view .LVU165
 578 0008 0025     		movs	r5, #0
 237:.././simpleserial/simpleserial.c **** 	uint8_t data_buf[MAX_SS_LEN];
 579              		.loc 1 237 1 view .LVU166
 580 000a 1146     		mov	r1, r2
 581              	.LVL57:
 240:.././simpleserial/simpleserial.c **** 	data_buf[1] = c;
 582              		.loc 1 240 14 view .LVU167
 583 000c 8DF80100 		strb	r0, [sp, #1]
 241:.././simpleserial/simpleserial.c **** 	data_buf[2] = size;
 242:.././simpleserial/simpleserial.c **** 	int i = 0;
 243:.././simpleserial/simpleserial.c **** 	for (; i < size; i++) {
 244:.././simpleserial/simpleserial.c **** 		data_buf[i + 3] = output[i];
 584              		.loc 1 244 19 view .LVU168
 585 0010 2246     		mov	r2, r4
 586              	.LVL58:
 587              		.loc 1 244 19 view .LVU169
 588 0012 0DF10300 		add	r0, sp, #3
 589              	.LVL59:
 241:.././simpleserial/simpleserial.c **** 	data_buf[2] = size;
 590              		.loc 1 241 14 view .LVU170
 591 0016 8DF80240 		strb	r4, [sp, #2]
 239:.././simpleserial/simpleserial.c **** 	data_buf[1] = c;
 592              		.loc 1 239 14 view .LVU171
 593 001a 8DF80050 		strb	r5, [sp]
 240:.././simpleserial/simpleserial.c **** 	data_buf[1] = c;
 594              		.loc 1 240 2 is_stmt 1 view .LVU172
 241:.././simpleserial/simpleserial.c **** 	data_buf[2] = size;
 595              		.loc 1 241 2 view .LVU173
 242:.././simpleserial/simpleserial.c **** 	for (; i < size; i++) {
 596              		.loc 1 242 2 view .LVU174
 597              	.LVL60:
 243:.././simpleserial/simpleserial.c **** 		data_buf[i + 3] = output[i];
 598              		.loc 1 243 2 view .LVU175
 599              		.loc 1 244 19 is_stmt 0 view .LVU176
 600 001e FFF7FEFF 		bl	memcpy
 601              	.LVL61:
 245:.././simpleserial/simpleserial.c **** 	}
 246:.././simpleserial/simpleserial.c **** 	data_buf[i + 3] = ss_crc(data_buf+1, size+2);
 602              		.loc 1 246 2 is_stmt 1 view .LVU177
 603              		.loc 1 246 20 is_stmt 0 view .LVU178
 604 0022 A11C     		adds	r1, r4, #2
 605 0024 C9B2     		uxtb	r1, r1
 606 0026 0DF10100 		add	r0, sp, #1
 607 002a FFF7FEFF 		bl	ss_crc
 608              	.LVL62:
 609              		.loc 1 246 18 view .LVU179
 610 002e 0DEB0403 		add	r3, sp, r4
 247:.././simpleserial/simpleserial.c **** 	data_buf[i + 4] = 0x00;
 611              		.loc 1 247 13 view .LVU180
 612 0032 261D     		adds	r6, r4, #4
 248:.././simpleserial/simpleserial.c **** 	stuff_data(data_buf, i + 5);
 613              		.loc 1 248 2 view .LVU181
 614 0034 611D     		adds	r1, r4, #5
 246:.././simpleserial/simpleserial.c **** 	data_buf[i + 4] = 0x00;
 615              		.loc 1 246 18 view .LVU182
 616 0036 D870     		strb	r0, [r3, #3]
 247:.././simpleserial/simpleserial.c **** 	data_buf[i + 4] = 0x00;
 617              		.loc 1 247 2 is_stmt 1 view .LVU183
 618              		.loc 1 248 2 is_stmt 0 view .LVU184
 619 0038 C9B2     		uxtb	r1, r1
 620 003a 6846     		mov	r0, sp
 247:.././simpleserial/simpleserial.c **** 	data_buf[i + 4] = 0x00;
 621              		.loc 1 247 18 view .LVU185
 622 003c 0DF80650 		strb	r5, [sp, r6]
 623              		.loc 1 248 2 is_stmt 1 view .LVU186
 624 0040 FFF7FEFF 		bl	stuff_data
 625              	.LVL63:
 249:.././simpleserial/simpleserial.c **** 	for (int i = 0; i < size + 5; i++) {
 626              		.loc 1 249 2 view .LVU187
 627              	.LBB10:
 628              		.loc 1 249 7 view .LVU188
 629              		.loc 1 249 18 view .LVU189
 630 0044 6C46     		mov	r4, sp
 631              	.LVL64:
 632              	.L45:
 250:.././simpleserial/simpleserial.c **** 		putch(data_buf[i]);
 633              		.loc 1 250 3 discriminator 3 view .LVU190
 634 0046 14F8010B 		ldrb	r0, [r4], #1	@ zero_extendqisi2
 249:.././simpleserial/simpleserial.c **** 	for (int i = 0; i < size + 5; i++) {
 635              		.loc 1 249 33 is_stmt 0 discriminator 3 view .LVU191
 636 004a 0135     		adds	r5, r5, #1
 637              	.LVL65:
 638              		.loc 1 250 3 discriminator 3 view .LVU192
 639 004c FFF7FEFF 		bl	putch
 640              	.LVL66:
 249:.././simpleserial/simpleserial.c **** 	for (int i = 0; i < size + 5; i++) {
 641              		.loc 1 249 32 is_stmt 1 discriminator 3 view .LVU193
 249:.././simpleserial/simpleserial.c **** 	for (int i = 0; i < size + 5; i++) {
 642              		.loc 1 249 18 discriminator 3 view .LVU194
 249:.././simpleserial/simpleserial.c **** 	for (int i = 0; i < size + 5; i++) {
 643              		.loc 1 249 2 is_stmt 0 discriminator 3 view .LVU195
 644 0050 AE42     		cmp	r6, r5
 645 0052 F8DA     		bge	.L45
 646              	.LBE10:
 251:.././simpleserial/simpleserial.c **** 	}
 252:.././simpleserial/simpleserial.c **** }
 647              		.loc 1 252 1 view .LVU196
 648 0054 0DF5007D 		add	sp, sp, #512
 649              	.LCFI7:
 650              		.cfi_def_cfa_offset 16
 651              		@ sp needed
 652 0058 70BD     		pop	{r4, r5, r6, pc}
 653              		.loc 1 252 1 view .LVU197
 654              		.cfi_endproc
 655              	.LFE10:
 657              		.section	.text.check_version,"ax",%progbits
 658              		.align	1
 659              		.global	check_version
 660              		.syntax unified
 661              		.thumb
 662              		.thumb_func
 663              		.fpu softvfp
 665              	check_version:
 666              	.LVL67:
 667              	.LFB3:
  88:.././simpleserial/simpleserial.c **** 	uint8_t ver = SS_VER;
 668              		.loc 1 88 1 is_stmt 1 view -0
 669              		.cfi_startproc
 670              		@ args = 0, pretend = 0, frame = 8
 671              		@ frame_needed = 0, uses_anonymous_args = 0
  89:.././simpleserial/simpleserial.c **** 	simpleserial_put('r', 1, &ver);
 672              		.loc 1 89 2 view .LVU199
  88:.././simpleserial/simpleserial.c **** 	uint8_t ver = SS_VER;
 673              		.loc 1 88 1 is_stmt 0 view .LVU200
 674 0000 07B5     		push	{r0, r1, r2, lr}
 675              	.LCFI8:
 676              		.cfi_def_cfa_offset 16
 677              		.cfi_offset 14, -4
  89:.././simpleserial/simpleserial.c **** 	simpleserial_put('r', 1, &ver);
 678              		.loc 1 89 10 view .LVU201
 679 0002 0323     		movs	r3, #3
 680              	.LVL68:
  90:.././simpleserial/simpleserial.c **** 	return SS_ERR_OK;
 681              		.loc 1 90 2 view .LVU202
 682 0004 0DF10702 		add	r2, sp, #7
 683              	.LVL69:
  90:.././simpleserial/simpleserial.c **** 	return SS_ERR_OK;
 684              		.loc 1 90 2 view .LVU203
 685 0008 0121     		movs	r1, #1
 686              	.LVL70:
  90:.././simpleserial/simpleserial.c **** 	return SS_ERR_OK;
 687              		.loc 1 90 2 view .LVU204
 688 000a 7220     		movs	r0, #114
 689              	.LVL71:
  89:.././simpleserial/simpleserial.c **** 	simpleserial_put('r', 1, &ver);
 690              		.loc 1 89 10 view .LVU205
 691 000c 8DF80730 		strb	r3, [sp, #7]
  90:.././simpleserial/simpleserial.c **** 	return SS_ERR_OK;
 692              		.loc 1 90 2 is_stmt 1 view .LVU206
 693 0010 FFF7FEFF 		bl	simpleserial_put
 694              	.LVL72:
  91:.././simpleserial/simpleserial.c **** }
 695              		.loc 1 91 2 view .LVU207
  92:.././simpleserial/simpleserial.c **** 
 696              		.loc 1 92 1 is_stmt 0 view .LVU208
 697 0014 0020     		movs	r0, #0
 698 0016 03B0     		add	sp, sp, #12
 699              	.LCFI9:
 700              		.cfi_def_cfa_offset 4
 701              		@ sp needed
 702 0018 5DF804FB 		ldr	pc, [sp], #4
 703              		.cfi_endproc
 704              	.LFE3:
 706              		.section	.text.ss_get_commands,"ax",%progbits
 707              		.align	1
 708              		.global	ss_get_commands
 709              		.syntax unified
 710              		.thumb
 711              		.thumb_func
 712              		.fpu softvfp
 714              	ss_get_commands:
 715              	.LVL73:
 716              	.LFB4:
  95:.././simpleserial/simpleserial.c ****     uint8_t cmd_chars[MAX_SS_CMDS];
 717              		.loc 1 95 1 is_stmt 1 view -0
 718              		.cfi_startproc
 719              		@ args = 0, pretend = 0, frame = 128
 720              		@ frame_needed = 0, uses_anonymous_args = 0
  96:.././simpleserial/simpleserial.c ****     for (uint8_t i = 0; i < (num_commands & 0xFF); i++) {
 721              		.loc 1 96 5 view .LVU210
  97:.././simpleserial/simpleserial.c ****         cmd_chars[i] = commands[i].c;
 722              		.loc 1 97 5 view .LVU211
 723              	.LBB11:
  97:.././simpleserial/simpleserial.c ****         cmd_chars[i] = commands[i].c;
 724              		.loc 1 97 10 view .LVU212
  97:.././simpleserial/simpleserial.c ****         cmd_chars[i] = commands[i].c;
 725              		.loc 1 97 10 is_stmt 0 view .LVU213
 726              	.LBE11:
  95:.././simpleserial/simpleserial.c ****     uint8_t cmd_chars[MAX_SS_CMDS];
 727              		.loc 1 95 1 view .LVU214
 728 0000 30B5     		push	{r4, r5, lr}
 729              	.LCFI10:
 730              		.cfi_def_cfa_offset 12
 731              		.cfi_offset 4, -12
 732              		.cfi_offset 5, -8
 733              		.cfi_offset 14, -4
 734              	.LBB12:
  97:.././simpleserial/simpleserial.c ****         cmd_chars[i] = commands[i].c;
 735              		.loc 1 97 43 view .LVU215
 736 0002 0C48     		ldr	r0, .L51
 737              	.LVL74:
  97:.././simpleserial/simpleserial.c ****         cmd_chars[i] = commands[i].c;
 738              		.loc 1 97 43 view .LVU216
 739 0004 0178     		ldrb	r1, [r0]	@ zero_extendqisi2
 740              	.LVL75:
  97:.././simpleserial/simpleserial.c ****         cmd_chars[i] = commands[i].c;
 741              		.loc 1 97 43 view .LVU217
 742              	.LBE12:
  95:.././simpleserial/simpleserial.c ****     uint8_t cmd_chars[MAX_SS_CMDS];
 743              		.loc 1 95 1 view .LVU218
 744 0006 A1B0     		sub	sp, sp, #132
 745              	.LCFI11:
 746              		.cfi_def_cfa_offset 144
 747              	.LBB13:
  97:.././simpleserial/simpleserial.c ****         cmd_chars[i] = commands[i].c;
 748              		.loc 1 97 5 view .LVU219
 749 0008 0022     		movs	r2, #0
 750              	.LVL76:
  98:.././simpleserial/simpleserial.c ****     }
 751              		.loc 1 98 35 view .LVU220
 752 000a 0C24     		movs	r4, #12
 753              	.LVL77:
 754              	.L49:
  97:.././simpleserial/simpleserial.c ****         cmd_chars[i] = commands[i].c;
 755              		.loc 1 97 25 is_stmt 1 discriminator 1 view .LVU221
  97:.././simpleserial/simpleserial.c ****         cmd_chars[i] = commands[i].c;
 756              		.loc 1 97 27 is_stmt 0 discriminator 1 view .LVU222
 757 000c D3B2     		uxtb	r3, r2
  97:.././simpleserial/simpleserial.c ****         cmd_chars[i] = commands[i].c;
 758              		.loc 1 97 5 discriminator 1 view .LVU223
 759 000e 8B42     		cmp	r3, r1
 760 0010 02F10102 		add	r2, r2, #1
 761              	.LVL78:
  97:.././simpleserial/simpleserial.c ****         cmd_chars[i] = commands[i].c;
 762              		.loc 1 97 5 discriminator 1 view .LVU224
 763 0014 06DB     		blt	.L50
 764              	.LBE13:
 101:.././simpleserial/simpleserial.c ****     return 0x00;
 765              		.loc 1 101 5 is_stmt 1 view .LVU225
 766 0016 6A46     		mov	r2, sp
 767 0018 7220     		movs	r0, #114
 768 001a FFF7FEFF 		bl	simpleserial_put
 769              	.LVL79:
 102:.././simpleserial/simpleserial.c **** 
 770              		.loc 1 102 5 view .LVU226
 104:.././simpleserial/simpleserial.c **** 
 771              		.loc 1 104 1 is_stmt 0 view .LVU227
 772 001e 0020     		movs	r0, #0
 773 0020 21B0     		add	sp, sp, #132
 774              	.LCFI12:
 775              		.cfi_remember_state
 776              		.cfi_def_cfa_offset 12
 777              		@ sp needed
 778 0022 30BD     		pop	{r4, r5, pc}
 779              	.LVL80:
 780              	.L50:
 781              	.LCFI13:
 782              		.cfi_restore_state
 783              	.LBB14:
  98:.././simpleserial/simpleserial.c ****     }
 784              		.loc 1 98 9 is_stmt 1 discriminator 3 view .LVU228
  98:.././simpleserial/simpleserial.c ****     }
 785              		.loc 1 98 22 is_stmt 0 discriminator 3 view .LVU229
 786 0024 20AD     		add	r5, sp, #128
 787 0026 1D44     		add	r5, r5, r3
  98:.././simpleserial/simpleserial.c ****     }
 788              		.loc 1 98 35 discriminator 3 view .LVU230
 789 0028 04FB0303 		mla	r3, r4, r3, r0
 790              	.LVL81:
  98:.././simpleserial/simpleserial.c ****     }
 791              		.loc 1 98 22 discriminator 3 view .LVU231
 792 002c 1B79     		ldrb	r3, [r3, #4]	@ zero_extendqisi2
 793 002e 05F8803C 		strb	r3, [r5, #-128]
  97:.././simpleserial/simpleserial.c ****         cmd_chars[i] = commands[i].c;
 794              		.loc 1 97 52 is_stmt 1 discriminator 3 view .LVU232
 795              	.LVL82:
  97:.././simpleserial/simpleserial.c ****         cmd_chars[i] = commands[i].c;
 796              		.loc 1 97 52 is_stmt 0 discriminator 3 view .LVU233
 797 0032 EBE7     		b	.L49
 798              	.L52:
 799              		.align	2
 800              	.L51:
 801 0034 00000000 		.word	.LANCHOR0
 802              	.LBE14:
 803              		.cfi_endproc
 804              	.LFE4:
 806              		.section	.text.simpleserial_get,"ax",%progbits
 807              		.align	1
 808              		.global	simpleserial_get
 809              		.syntax unified
 810              		.thumb
 811              		.thumb_func
 812              		.fpu softvfp
 814              	simpleserial_get:
 815              	.LFB9:
 162:.././simpleserial/simpleserial.c **** 	uint8_t data_buf[MAX_SS_LEN];
 816              		.loc 1 162 1 is_stmt 1 view -0
 817              		.cfi_startproc
 818              		@ args = 0, pretend = 0, frame = 520
 819              		@ frame_needed = 0, uses_anonymous_args = 0
 163:.././simpleserial/simpleserial.c **** 	uint8_t err = 0;
 820              		.loc 1 163 2 view .LVU235
 164:.././simpleserial/simpleserial.c **** 
 821              		.loc 1 164 2 view .LVU236
 162:.././simpleserial/simpleserial.c **** 	uint8_t data_buf[MAX_SS_LEN];
 822              		.loc 1 162 1 is_stmt 0 view .LVU237
 823 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 824              	.LCFI14:
 825              		.cfi_def_cfa_offset 32
 826              		.cfi_offset 4, -32
 827              		.cfi_offset 5, -28
 828              		.cfi_offset 6, -24
 829              		.cfi_offset 7, -20
 830              		.cfi_offset 8, -16
 831              		.cfi_offset 9, -12
 832              		.cfi_offset 10, -8
 833              		.cfi_offset 14, -4
 834 0004 ADF5027D 		sub	sp, sp, #520
 835              	.LCFI15:
 836              		.cfi_def_cfa_offset 552
 164:.././simpleserial/simpleserial.c **** 
 837              		.loc 1 164 10 view .LVU238
 838 0008 0025     		movs	r5, #0
 839 000a 02AE     		add	r6, sp, #8
 840 000c 8DF80750 		strb	r5, [sp, #7]
 166:.././simpleserial/simpleserial.c **** 		data_buf[i] = getch(); //PTR, cmd, scmd, len
 841              		.loc 1 166 2 is_stmt 1 view .LVU239
 842              	.LBB15:
 166:.././simpleserial/simpleserial.c **** 		data_buf[i] = getch(); //PTR, cmd, scmd, len
 843              		.loc 1 166 7 view .LVU240
 844              	.LVL83:
 166:.././simpleserial/simpleserial.c **** 		data_buf[i] = getch(); //PTR, cmd, scmd, len
 845              		.loc 1 166 18 view .LVU241
 846 0010 3446     		mov	r4, r6
 847              	.LVL84:
 848              	.L56:
 167:.././simpleserial/simpleserial.c **** 		if (data_buf[i] == FRAME_BYTE) {  //如果data_buf[i] == 0x00
 849              		.loc 1 167 3 view .LVU242
 167:.././simpleserial/simpleserial.c **** 		if (data_buf[i] == FRAME_BYTE) {  //如果data_buf[i] == 0x00
 850              		.loc 1 167 17 is_stmt 0 view .LVU243
 851 0012 FFF7FEFF 		bl	getch
 852              	.LVL85:
 167:.././simpleserial/simpleserial.c **** 		if (data_buf[i] == FRAME_BYTE) {  //如果data_buf[i] == 0x00
 853              		.loc 1 167 15 view .LVU244
 854 0016 06F8010B 		strb	r0, [r6], #1
 168:.././simpleserial/simpleserial.c **** 			err = SS_ERR_FRAME_BYTE;
 855              		.loc 1 168 3 is_stmt 1 view .LVU245
 168:.././simpleserial/simpleserial.c **** 			err = SS_ERR_FRAME_BYTE;
 856              		.loc 1 168 6 is_stmt 0 view .LVU246
 857 001a 60B9     		cbnz	r0, .L54
 169:.././simpleserial/simpleserial.c ****             // err =12;
 858              		.loc 1 169 4 is_stmt 1 view .LVU247
 169:.././simpleserial/simpleserial.c ****             // err =12;
 859              		.loc 1 169 8 is_stmt 0 view .LVU248
 860 001c 0523     		movs	r3, #5
 861              	.LVL86:
 862              	.L67:
 169:.././simpleserial/simpleserial.c ****             // err =12;
 863              		.loc 1 169 8 view .LVU249
 864              	.LBE15:
 186:.././simpleserial/simpleserial.c **** 		goto ERROR;
 865              		.loc 1 186 13 view .LVU250
 866 001e 8DF80730 		strb	r3, [sp, #7]
 187:.././simpleserial/simpleserial.c **** 	}
 867              		.loc 1 187 3 is_stmt 1 view .LVU251
 868              	.L55:
 232:.././simpleserial/simpleserial.c **** 	return;
 869              		.loc 1 232 2 view .LVU252
 870 0022 0DF10702 		add	r2, sp, #7
 871 0026 0521     		movs	r1, #5
 872 0028 6520     		movs	r0, #101
 873 002a FFF7FEFF 		bl	simpleserial_put
 874              	.LVL87:
 233:.././simpleserial/simpleserial.c **** }
 875              		.loc 1 233 2 view .LVU253
 234:.././simpleserial/simpleserial.c **** 
 876              		.loc 1 234 1 is_stmt 0 view .LVU254
 877 002e 0DF5027D 		add	sp, sp, #520
 878              	.LCFI16:
 879              		.cfi_remember_state
 880              		.cfi_def_cfa_offset 32
 881              		@ sp needed
 882 0032 BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 883              	.LVL88:
 884              	.L54:
 885              	.LCFI17:
 886              		.cfi_restore_state
 887              	.LBB16:
 166:.././simpleserial/simpleserial.c **** 		data_buf[i] = getch(); //PTR, cmd, scmd, len
 888              		.loc 1 166 25 is_stmt 1 discriminator 2 view .LVU255
 166:.././simpleserial/simpleserial.c **** 		data_buf[i] = getch(); //PTR, cmd, scmd, len
 889              		.loc 1 166 26 is_stmt 0 discriminator 2 view .LVU256
 890 0036 0135     		adds	r5, r5, #1
 891              	.LVL89:
 166:.././simpleserial/simpleserial.c **** 		data_buf[i] = getch(); //PTR, cmd, scmd, len
 892              		.loc 1 166 18 is_stmt 1 discriminator 2 view .LVU257
 166:.././simpleserial/simpleserial.c **** 		data_buf[i] = getch(); //PTR, cmd, scmd, len
 893              		.loc 1 166 2 is_stmt 0 discriminator 2 view .LVU258
 894 0038 042D     		cmp	r5, #4
 895 003a EAD1     		bne	.L56
 896              	.LBE16:
 174:.././simpleserial/simpleserial.c **** 
 897              		.loc 1 174 2 is_stmt 1 view .LVU259
 174:.././simpleserial/simpleserial.c **** 
 898              		.loc 1 174 23 is_stmt 0 view .LVU260
 899 003c 2946     		mov	r1, r5
 900 003e 2046     		mov	r0, r4
 901 0040 FFF7FEFF 		bl	unstuff_data
 902              	.LVL90:
 178:.././simpleserial/simpleserial.c **** 	{
 903              		.loc 1 178 15 view .LVU261
 904 0044 264F     		ldr	r7, .L68
 180:.././simpleserial/simpleserial.c **** 			break;
 905              		.loc 1 180 31 view .LVU262
 906 0046 6178     		ldrb	r1, [r4, #1]	@ zero_extendqisi2
 178:.././simpleserial/simpleserial.c **** 	{
 907              		.loc 1 178 15 view .LVU263
 908 0048 3A68     		ldr	r2, [r7]
 174:.././simpleserial/simpleserial.c **** 
 909              		.loc 1 174 23 view .LVU264
 910 004a 8046     		mov	r8, r0
 911              	.LVL91:
 177:.././simpleserial/simpleserial.c **** 	for(c = 0; c < num_commands; c++)
 912              		.loc 1 177 2 is_stmt 1 view .LVU265
 178:.././simpleserial/simpleserial.c **** 	{
 913              		.loc 1 178 2 view .LVU266
 178:.././simpleserial/simpleserial.c **** 	{
 914              		.loc 1 178 2 is_stmt 0 view .LVU267
 915 004c 0023     		movs	r3, #0
 180:.././simpleserial/simpleserial.c **** 			break;
 916              		.loc 1 180 17 view .LVU268
 917 004e 0C20     		movs	r0, #12
 918              	.LVL92:
 919              	.L57:
 178:.././simpleserial/simpleserial.c **** 	{
 920              		.loc 1 178 13 is_stmt 1 discriminator 1 view .LVU269
 178:.././simpleserial/simpleserial.c **** 	{
 921              		.loc 1 178 15 is_stmt 0 discriminator 1 view .LVU270
 922 0050 5FFA83F9 		uxtb	r9, r3
 178:.././simpleserial/simpleserial.c **** 	{
 923              		.loc 1 178 2 discriminator 1 view .LVU271
 924 0054 9145     		cmp	r9, r2
 925 0056 02DB     		blt	.L59
 184:.././simpleserial/simpleserial.c **** 		// err = SS_ERR_CMD;
 926              		.loc 1 184 2 is_stmt 1 view .LVU272
 184:.././simpleserial/simpleserial.c **** 		// err = SS_ERR_CMD;
 927              		.loc 1 184 5 is_stmt 0 view .LVU273
 928 0058 07D1     		bne	.L58
 186:.././simpleserial/simpleserial.c **** 		goto ERROR;
 929              		.loc 1 186 9 is_stmt 1 view .LVU274
 186:.././simpleserial/simpleserial.c **** 		goto ERROR;
 930              		.loc 1 186 13 is_stmt 0 view .LVU275
 931 005a 0723     		movs	r3, #7
 932              	.LVL93:
 186:.././simpleserial/simpleserial.c **** 		goto ERROR;
 933              		.loc 1 186 13 view .LVU276
 934 005c DFE7     		b	.L67
 935              	.LVL94:
 936              	.L59:
 180:.././simpleserial/simpleserial.c **** 			break;
 937              		.loc 1 180 3 is_stmt 1 view .LVU277
 180:.././simpleserial/simpleserial.c **** 			break;
 938              		.loc 1 180 17 is_stmt 0 view .LVU278
 939 005e 00FB0976 		mla	r6, r0, r9, r7
 180:.././simpleserial/simpleserial.c **** 			break;
 940              		.loc 1 180 5 view .LVU279
 941 0062 0133     		adds	r3, r3, #1
 942              	.LVL95:
 180:.././simpleserial/simpleserial.c **** 			break;
 943              		.loc 1 180 5 view .LVU280
 944 0064 3679     		ldrb	r6, [r6, #4]	@ zero_extendqisi2
 945 0066 8E42     		cmp	r6, r1
 946 0068 F2D1     		bne	.L57
 947              	.L58:
 192:.././simpleserial/simpleserial.c **** 		err = SS_ERR_LEN;
 948              		.loc 1 192 2 is_stmt 1 view .LVU281
 192:.././simpleserial/simpleserial.c **** 		err = SS_ERR_LEN;
 949              		.loc 1 192 15 is_stmt 0 view .LVU282
 950 006a E378     		ldrb	r3, [r4, #3]	@ zero_extendqisi2
 192:.././simpleserial/simpleserial.c **** 		err = SS_ERR_LEN;
 951              		.loc 1 192 19 view .LVU283
 952 006c 0533     		adds	r3, r3, #5
 192:.././simpleserial/simpleserial.c **** 		err = SS_ERR_LEN;
 953              		.loc 1 192 5 view .LVU284
 954 006e 4345     		cmp	r3, r8
 955 0070 02DA     		bge	.L60
 193:.././simpleserial/simpleserial.c ****         err = 11;
 956              		.loc 1 193 3 is_stmt 1 view .LVU285
 194:.././simpleserial/simpleserial.c **** 		goto ERROR;
 957              		.loc 1 194 9 view .LVU286
 194:.././simpleserial/simpleserial.c **** 		goto ERROR;
 958              		.loc 1 194 13 is_stmt 0 view .LVU287
 959 0072 0B23     		movs	r3, #11
 960 0074 D3E7     		b	.L67
 961              	.LVL96:
 962              	.L64:
 194:.././simpleserial/simpleserial.c **** 		goto ERROR;
 963              		.loc 1 194 13 view .LVU288
 964 0076 3546     		mov	r5, r6
 965              	.LVL97:
 966              	.L60:
 202:.././simpleserial/simpleserial.c **** 		if (data_buf[i] == FRAME_BYTE) {
 967              		.loc 1 202 3 is_stmt 1 view .LVU289
 202:.././simpleserial/simpleserial.c **** 		if (data_buf[i] == FRAME_BYTE) {
 968              		.loc 1 202 17 is_stmt 0 view .LVU290
 969 0078 FFF7FEFF 		bl	getch
 970              	.LVL98:
 202:.././simpleserial/simpleserial.c **** 		if (data_buf[i] == FRAME_BYTE) {
 971              		.loc 1 202 15 view .LVU291
 972 007c 6055     		strb	r0, [r4, r5]
 203:.././simpleserial/simpleserial.c **** 			err = SS_ERR_FRAME_BYTE;
 973              		.loc 1 203 3 is_stmt 1 view .LVU292
 203:.././simpleserial/simpleserial.c **** 			err = SS_ERR_FRAME_BYTE;
 974              		.loc 1 203 6 is_stmt 0 view .LVU293
 975 007e 08B9     		cbnz	r0, .L61
 204:.././simpleserial/simpleserial.c ****             err = 12;
 976              		.loc 1 204 4 is_stmt 1 view .LVU294
 205:.././simpleserial/simpleserial.c **** 			goto ERROR;
 977              		.loc 1 205 13 view .LVU295
 205:.././simpleserial/simpleserial.c **** 			goto ERROR;
 978              		.loc 1 205 17 is_stmt 0 view .LVU296
 979 0080 0C23     		movs	r3, #12
 980 0082 CCE7     		b	.L67
 981              	.L61:
 201:.././simpleserial/simpleserial.c **** 		data_buf[i] = getch();
 982              		.loc 1 201 30 is_stmt 1 view .LVU297
 201:.././simpleserial/simpleserial.c **** 		data_buf[i] = getch();
 983              		.loc 1 201 21 is_stmt 0 view .LVU298
 984 0084 E378     		ldrb	r3, [r4, #3]	@ zero_extendqisi2
 201:.././simpleserial/simpleserial.c **** 		data_buf[i] = getch();
 985              		.loc 1 201 31 view .LVU299
 986 0086 6E1C     		adds	r6, r5, #1
 987              	.LVL99:
 201:.././simpleserial/simpleserial.c **** 		data_buf[i] = getch();
 988              		.loc 1 201 9 is_stmt 1 view .LVU300
 201:.././simpleserial/simpleserial.c **** 		data_buf[i] = getch();
 989              		.loc 1 201 11 is_stmt 0 view .LVU301
 990 0088 0433     		adds	r3, r3, #4
 201:.././simpleserial/simpleserial.c **** 		data_buf[i] = getch();
 991              		.loc 1 201 2 view .LVU302
 992 008a B342     		cmp	r3, r6
 993 008c F3DA     		bge	.L64
 211:.././simpleserial/simpleserial.c **** 	if (data_buf[i] != FRAME_BYTE) {
 994              		.loc 1 211 2 is_stmt 1 view .LVU303
 211:.././simpleserial/simpleserial.c **** 	if (data_buf[i] != FRAME_BYTE) {
 995              		.loc 1 211 16 is_stmt 0 view .LVU304
 996 008e FFF7FEFF 		bl	getch
 997              	.LVL100:
 211:.././simpleserial/simpleserial.c **** 	if (data_buf[i] != FRAME_BYTE) {
 998              		.loc 1 211 14 view .LVU305
 999 0092 A055     		strb	r0, [r4, r6]
 212:.././simpleserial/simpleserial.c **** 		err = SS_ERR_LEN;
 1000              		.loc 1 212 2 is_stmt 1 view .LVU306
 212:.././simpleserial/simpleserial.c **** 		err = SS_ERR_LEN;
 1001              		.loc 1 212 5 is_stmt 0 view .LVU307
 1002 0094 08B1     		cbz	r0, .L62
 213:.././simpleserial/simpleserial.c ****         err = 13;
 1003              		.loc 1 213 3 is_stmt 1 view .LVU308
 214:.././simpleserial/simpleserial.c **** 		goto ERROR;
 1004              		.loc 1 214 9 view .LVU309
 214:.././simpleserial/simpleserial.c **** 		goto ERROR;
 1005              		.loc 1 214 13 is_stmt 0 view .LVU310
 1006 0096 0D23     		movs	r3, #13
 1007 0098 C1E7     		b	.L67
 1008              	.L62:
 219:.././simpleserial/simpleserial.c **** 
 1009              		.loc 1 219 2 is_stmt 1 view .LVU311
 1010 009a C8F10101 		rsb	r1, r8, #1
 1011 009e 51FA86F1 		uxtab	r1, r1, r6
 1012 00a2 C9B2     		uxtb	r1, r1
 219:.././simpleserial/simpleserial.c **** 
 1013              		.loc 1 219 40 is_stmt 0 view .LVU312
 1014 00a4 5FFA86FA 		uxtb	r10, r6
 219:.././simpleserial/simpleserial.c **** 
 1015              		.loc 1 219 2 view .LVU313
 1016 00a8 04EB0800 		add	r0, r4, r8
 1017 00ac FFF7FEFF 		bl	unstuff_data
 1018              	.LVL101:
 222:.././simpleserial/simpleserial.c **** 	if (crc != data_buf[i-1]) {
 1019              		.loc 1 222 2 is_stmt 1 view .LVU314
 222:.././simpleserial/simpleserial.c **** 	if (crc != data_buf[i-1]) {
 1020              		.loc 1 222 16 is_stmt 0 view .LVU315
 1021 00b0 AAF10201 		sub	r1, r10, #2
 1022 00b4 C9B2     		uxtb	r1, r1
 1023 00b6 0DF10900 		add	r0, sp, #9
 1024 00ba FFF7FEFF 		bl	ss_crc
 1025              	.LVL102:
 223:.././simpleserial/simpleserial.c **** 		err = SS_ERR_CRC;
 1026              		.loc 1 223 2 is_stmt 1 view .LVU316
 223:.././simpleserial/simpleserial.c **** 		err = SS_ERR_CRC;
 1027              		.loc 1 223 5 is_stmt 0 view .LVU317
 1028 00be 635D     		ldrb	r3, [r4, r5]	@ zero_extendqisi2
 1029 00c0 8342     		cmp	r3, r0
 1030 00c2 01D0     		beq	.L63
 224:.././simpleserial/simpleserial.c ****         err = 14;
 1031              		.loc 1 224 3 is_stmt 1 view .LVU318
 225:.././simpleserial/simpleserial.c **** 		goto ERROR;
 1032              		.loc 1 225 9 view .LVU319
 225:.././simpleserial/simpleserial.c **** 		goto ERROR;
 1033              		.loc 1 225 13 is_stmt 0 view .LVU320
 1034 00c4 0E23     		movs	r3, #14
 1035 00c6 AAE7     		b	.L67
 1036              	.L63:
 229:.././simpleserial/simpleserial.c **** 
 1037              		.loc 1 229 2 is_stmt 1 view .LVU321
 229:.././simpleserial/simpleserial.c **** 
 1038              		.loc 1 229 19 is_stmt 0 view .LVU322
 1039 00c8 0C23     		movs	r3, #12
 1040 00ca 03FB0977 		mla	r7, r3, r9, r7
 229:.././simpleserial/simpleserial.c **** 
 1041              		.loc 1 229 8 view .LVU323
 1042 00ce E278     		ldrb	r2, [r4, #3]	@ zero_extendqisi2
 1043 00d0 FD68     		ldr	r5, [r7, #12]
 1044 00d2 A178     		ldrb	r1, [r4, #2]	@ zero_extendqisi2
 1045 00d4 6078     		ldrb	r0, [r4, #1]	@ zero_extendqisi2
 1046              	.LVL103:
 229:.././simpleserial/simpleserial.c **** 
 1047              		.loc 1 229 8 view .LVU324
 1048 00d6 6B44     		add	r3, sp, r3
 1049 00d8 A847     		blx	r5
 1050              	.LVL104:
 229:.././simpleserial/simpleserial.c **** 
 1051              		.loc 1 229 6 view .LVU325
 1052 00da 8DF80700 		strb	r0, [sp, #7]
 1053 00de A0E7     		b	.L55
 1054              	.L69:
 1055              		.align	2
 1056              	.L68:
 1057 00e0 00000000 		.word	.LANCHOR0
 1058              		.cfi_endproc
 1059              	.LFE9:
 1061              		.section	.text.simpleserial_put1,"ax",%progbits
 1062              		.align	1
 1063              		.global	simpleserial_put1
 1064              		.syntax unified
 1065              		.thumb
 1066              		.thumb_func
 1067              		.fpu softvfp
 1069              	simpleserial_put1:
 1070              	.LVL105:
 1071              	.LFB11:
 253:.././simpleserial/simpleserial.c **** 
 254:.././simpleserial/simpleserial.c **** void simpleserial_put1(char c, int size, uint8_t* output)
 255:.././simpleserial/simpleserial.c **** {
 1072              		.loc 1 255 1 is_stmt 1 view -0
 1073              		.cfi_startproc
 1074              		@ args = 0, pretend = 0, frame = 512
 1075              		@ frame_needed = 0, uses_anonymous_args = 0
 256:.././simpleserial/simpleserial.c **** 	uint8_t data_buf[MAX_SS_LEN];
 1076              		.loc 1 256 2 view .LVU327
 257:.././simpleserial/simpleserial.c **** 	data_buf[0] = 0x00;
 1077              		.loc 1 257 2 view .LVU328
 255:.././simpleserial/simpleserial.c **** 	uint8_t data_buf[MAX_SS_LEN];
 1078              		.loc 1 255 1 is_stmt 0 view .LVU329
 1079 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 1080              	.LCFI18:
 1081              		.cfi_def_cfa_offset 20
 1082              		.cfi_offset 4, -20
 1083              		.cfi_offset 5, -16
 1084              		.cfi_offset 6, -12
 1085              		.cfi_offset 7, -8
 1086              		.cfi_offset 14, -4
 1087 0002 0E46     		mov	r6, r1
 1088 0004 ADF5017D 		sub	sp, sp, #516
 1089              	.LCFI19:
 1090              		.cfi_def_cfa_offset 536
 258:.././simpleserial/simpleserial.c **** 	data_buf[1] = c;
 259:.././simpleserial/simpleserial.c **** 	data_buf[2] = size;
 260:.././simpleserial/simpleserial.c **** 	int i = 0;
 261:.././simpleserial/simpleserial.c **** 	for (; i < size; i++) {
 262:.././simpleserial/simpleserial.c **** 		data_buf[i + 3] = output[i];
 1091              		.loc 1 262 19 view .LVU330
 1092 0008 26EAE674 		bic	r4, r6, r6, asr #31
 255:.././simpleserial/simpleserial.c **** 	uint8_t data_buf[MAX_SS_LEN];
 1093              		.loc 1 255 1 view .LVU331
 1094 000c 1146     		mov	r1, r2
 1095              	.LVL106:
 259:.././simpleserial/simpleserial.c **** 	int i = 0;
 1096              		.loc 1 259 14 view .LVU332
 1097 000e F7B2     		uxtb	r7, r6
 1098              		.loc 1 262 19 view .LVU333
 1099 0010 2246     		mov	r2, r4
 1100              	.LVL107:
 257:.././simpleserial/simpleserial.c **** 	data_buf[1] = c;
 1101              		.loc 1 257 14 view .LVU334
 1102 0012 0025     		movs	r5, #0
 258:.././simpleserial/simpleserial.c **** 	data_buf[1] = c;
 1103              		.loc 1 258 14 view .LVU335
 1104 0014 8DF80100 		strb	r0, [sp, #1]
 1105              		.loc 1 262 19 view .LVU336
 1106 0018 0DF10300 		add	r0, sp, #3
 1107              	.LVL108:
 257:.././simpleserial/simpleserial.c **** 	data_buf[1] = c;
 1108              		.loc 1 257 14 view .LVU337
 1109 001c 8DF80050 		strb	r5, [sp]
 258:.././simpleserial/simpleserial.c **** 	data_buf[1] = c;
 1110              		.loc 1 258 2 is_stmt 1 view .LVU338
 259:.././simpleserial/simpleserial.c **** 	int i = 0;
 1111              		.loc 1 259 2 view .LVU339
 259:.././simpleserial/simpleserial.c **** 	int i = 0;
 1112              		.loc 1 259 14 is_stmt 0 view .LVU340
 1113 0020 8DF80270 		strb	r7, [sp, #2]
 260:.././simpleserial/simpleserial.c **** 	for (; i < size; i++) {
 1114              		.loc 1 260 2 is_stmt 1 view .LVU341
 1115              	.LVL109:
 261:.././simpleserial/simpleserial.c **** 		data_buf[i + 3] = output[i];
 1116              		.loc 1 261 2 view .LVU342
 1117              		.loc 1 262 19 is_stmt 0 view .LVU343
 1118 0024 FFF7FEFF 		bl	memcpy
 1119              	.LVL110:
 263:.././simpleserial/simpleserial.c **** 	}
 264:.././simpleserial/simpleserial.c **** 	data_buf[i + 3] = ss_crc(data_buf+1, size+2);
 1120              		.loc 1 264 2 is_stmt 1 view .LVU344
 1121              		.loc 1 264 20 is_stmt 0 view .LVU345
 1122 0028 B91C     		adds	r1, r7, #2
 1123 002a C9B2     		uxtb	r1, r1
 1124 002c 0DF10100 		add	r0, sp, #1
 1125 0030 FFF7FEFF 		bl	ss_crc
 1126              	.LVL111:
 1127              		.loc 1 264 18 view .LVU346
 1128 0034 0DEB0403 		add	r3, sp, r4
 265:.././simpleserial/simpleserial.c **** 	data_buf[i + 4] = 0x00;
 266:.././simpleserial/simpleserial.c **** 	stuff_data(data_buf, i + 5);
 1129              		.loc 1 266 2 view .LVU347
 1130 0038 611D     		adds	r1, r4, #5
 264:.././simpleserial/simpleserial.c **** 	data_buf[i + 4] = 0x00;
 1131              		.loc 1 264 18 view .LVU348
 1132 003a D870     		strb	r0, [r3, #3]
 265:.././simpleserial/simpleserial.c **** 	data_buf[i + 4] = 0x00;
 1133              		.loc 1 265 2 is_stmt 1 view .LVU349
 265:.././simpleserial/simpleserial.c **** 	data_buf[i + 4] = 0x00;
 1134              		.loc 1 265 18 is_stmt 0 view .LVU350
 1135 003c 1D71     		strb	r5, [r3, #4]
 1136              		.loc 1 266 2 is_stmt 1 view .LVU351
 1137 003e C9B2     		uxtb	r1, r1
 1138 0040 6846     		mov	r0, sp
 1139 0042 FFF7FEFF 		bl	stuff_data
 1140              	.LVL112:
 267:.././simpleserial/simpleserial.c **** 	for (int i = 0; i < size + 5; i++) {
 1141              		.loc 1 267 2 view .LVU352
 1142              	.LBB17:
 1143              		.loc 1 267 7 view .LVU353
 1144              		.loc 1 267 7 is_stmt 0 view .LVU354
 1145 0046 6C46     		mov	r4, sp
 1146              		.loc 1 267 20 view .LVU355
 1147 0048 0436     		adds	r6, r6, #4
 1148              	.LVL113:
 1149              	.L71:
 1150              		.loc 1 267 18 is_stmt 1 discriminator 1 view .LVU356
 1151              		.loc 1 267 2 is_stmt 0 discriminator 1 view .LVU357
 1152 004a AE42     		cmp	r6, r5
 1153 004c 02DA     		bge	.L72
 1154              	.LBE17:
 268:.././simpleserial/simpleserial.c **** 		putch(data_buf[i]);
 269:.././simpleserial/simpleserial.c **** 	}
 270:.././simpleserial/simpleserial.c **** }
 1155              		.loc 1 270 1 view .LVU358
 1156 004e 0DF5017D 		add	sp, sp, #516
 1157              	.LCFI20:
 1158              		.cfi_remember_state
 1159              		.cfi_def_cfa_offset 20
 1160              		@ sp needed
 1161 0052 F0BD     		pop	{r4, r5, r6, r7, pc}
 1162              	.LVL114:
 1163              	.L72:
 1164              	.LCFI21:
 1165              		.cfi_restore_state
 1166              	.LBB18:
 268:.././simpleserial/simpleserial.c **** 		putch(data_buf[i]);
 1167              		.loc 1 268 3 is_stmt 1 discriminator 3 view .LVU359
 1168 0054 14F8010B 		ldrb	r0, [r4], #1	@ zero_extendqisi2
 1169 0058 FFF7FEFF 		bl	putch
 1170              	.LVL115:
 267:.././simpleserial/simpleserial.c **** 	for (int i = 0; i < size + 5; i++) {
 1171              		.loc 1 267 32 discriminator 3 view .LVU360
 267:.././simpleserial/simpleserial.c **** 	for (int i = 0; i < size + 5; i++) {
 1172              		.loc 1 267 33 is_stmt 0 discriminator 3 view .LVU361
 1173 005c 0135     		adds	r5, r5, #1
 1174              	.LVL116:
 267:.././simpleserial/simpleserial.c **** 	for (int i = 0; i < size + 5; i++) {
 1175              		.loc 1 267 33 discriminator 3 view .LVU362
 1176 005e F4E7     		b	.L71
 1177              	.LBE18:
 1178              		.cfi_endproc
 1179              	.LFE11:
 1181              		.bss
 1182              		.align	2
 1183              		.set	.LANCHOR0,. + 0
 1186              	num_commands:
 1187 0000 00000000 		.space	4
 1190              	commands:
 1191 0004 00000000 		.space	1536
 1191      00000000 
 1191      00000000 
 1191      00000000 
 1191      00000000 
 1192              		.text
 1193              	.Letext0:
 1194              		.file 2 "d:\\cw_software\\chipwhisperer5_64\\cw\\home\\portable\\armgcc\\arm-none-eabi\\include\\m
 1195              		.file 3 "d:\\cw_software\\chipwhisperer5_64\\cw\\home\\portable\\armgcc\\arm-none-eabi\\include\\s
 1196              		.file 4 ".././hal/stm32f4/stm32f4_hal.h"
 1197              		.file 5 ".././simpleserial/simpleserial.h"
 1198              		.file 6 "<built-in>"
DEFINED SYMBOLS
                            *ABS*:00000000 simpleserial.c
C:\Users\dudixiao\AppData\Local\Temp\ccyI6tvm.s:16     .text.ss_crc:00000000 $t
C:\Users\dudixiao\AppData\Local\Temp\ccyI6tvm.s:24     .text.ss_crc:00000000 ss_crc
C:\Users\dudixiao\AppData\Local\Temp\ccyI6tvm.s:90     .text.hex_decode:00000000 $t
C:\Users\dudixiao\AppData\Local\Temp\ccyI6tvm.s:97     .text.hex_decode:00000000 hex_decode
C:\Users\dudixiao\AppData\Local\Temp\ccyI6tvm.s:265    .text.ss_puts:00000000 $t
C:\Users\dudixiao\AppData\Local\Temp\ccyI6tvm.s:272    .text.ss_puts:00000000 ss_puts
C:\Users\dudixiao\AppData\Local\Temp\ccyI6tvm.s:307    .text.stuff_data:00000000 $t
C:\Users\dudixiao\AppData\Local\Temp\ccyI6tvm.s:314    .text.stuff_data:00000000 stuff_data
C:\Users\dudixiao\AppData\Local\Temp\ccyI6tvm.s:378    .text.unstuff_data:00000000 $t
C:\Users\dudixiao\AppData\Local\Temp\ccyI6tvm.s:385    .text.unstuff_data:00000000 unstuff_data
C:\Users\dudixiao\AppData\Local\Temp\ccyI6tvm.s:445    .text.simpleserial_init:00000000 $t
C:\Users\dudixiao\AppData\Local\Temp\ccyI6tvm.s:452    .text.simpleserial_init:00000000 simpleserial_init
C:\Users\dudixiao\AppData\Local\Temp\ccyI6tvm.s:465    .text.simpleserial_addcmd:00000000 $t
C:\Users\dudixiao\AppData\Local\Temp\ccyI6tvm.s:472    .text.simpleserial_addcmd:00000000 simpleserial_addcmd
C:\Users\dudixiao\AppData\Local\Temp\ccyI6tvm.s:543    .text.simpleserial_addcmd:00000034 $d
C:\Users\dudixiao\AppData\Local\Temp\ccyI6tvm.s:548    .text.simpleserial_put:00000000 $t
C:\Users\dudixiao\AppData\Local\Temp\ccyI6tvm.s:555    .text.simpleserial_put:00000000 simpleserial_put
C:\Users\dudixiao\AppData\Local\Temp\ccyI6tvm.s:658    .text.check_version:00000000 $t
C:\Users\dudixiao\AppData\Local\Temp\ccyI6tvm.s:665    .text.check_version:00000000 check_version
C:\Users\dudixiao\AppData\Local\Temp\ccyI6tvm.s:707    .text.ss_get_commands:00000000 $t
C:\Users\dudixiao\AppData\Local\Temp\ccyI6tvm.s:714    .text.ss_get_commands:00000000 ss_get_commands
C:\Users\dudixiao\AppData\Local\Temp\ccyI6tvm.s:801    .text.ss_get_commands:00000034 $d
C:\Users\dudixiao\AppData\Local\Temp\ccyI6tvm.s:807    .text.simpleserial_get:00000000 $t
C:\Users\dudixiao\AppData\Local\Temp\ccyI6tvm.s:814    .text.simpleserial_get:00000000 simpleserial_get
C:\Users\dudixiao\AppData\Local\Temp\ccyI6tvm.s:1057   .text.simpleserial_get:000000e0 $d
C:\Users\dudixiao\AppData\Local\Temp\ccyI6tvm.s:1062   .text.simpleserial_put1:00000000 $t
C:\Users\dudixiao\AppData\Local\Temp\ccyI6tvm.s:1069   .text.simpleserial_put1:00000000 simpleserial_put1
C:\Users\dudixiao\AppData\Local\Temp\ccyI6tvm.s:1182   .bss:00000000 $d
C:\Users\dudixiao\AppData\Local\Temp\ccyI6tvm.s:1186   .bss:00000000 num_commands
C:\Users\dudixiao\AppData\Local\Temp\ccyI6tvm.s:1190   .bss:00000004 commands

UNDEFINED SYMBOLS
putch
memcpy
getch
